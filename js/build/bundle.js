!function e(t,r,a){function n(o,s){if(!r[o]){if(!t[o]){var d="function"==typeof require&&require;if(!s&&d)return d(o,!0);if(i)return i(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[o]={exports:{}};t[o][0].call(c.exports,function(e){var r=t[o][1][e];return n(r||e)},c,c.exports,e,t,r,a)}return r[o].exports}for(var i="function"==typeof require&&require,o=0;o<a.length;o++)n(a[o]);return n}({1:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=e("./login.controller"),i=a(n),o=e("./dashboard.loader"),s=a(o),d=e("./data.manager"),u=a(d),c=e("./init.data.loader"),l=a(c);!function(){function t(){this.loginPageContent="views/loginPage.html",this.dashboardContainerContent="views/dbContainer.html"}function r(){window.addEventListener("hashchange",a,!1),n.initialize(o)}function a(){var e=location.hash,t=e.substring(1);t?"dashboard"===t||"map"===t?($("#navbarUnderline").hide(),n.loadView(t)):($("#navbarUnderline").show(),n.loadView(t)):n.loadView("dashboard")}var n=e("./view.loading"),o=new u.default,d=e("./map.controller"),c=null,m=null;t.prototype.loadLoginPage=function(){$.get(this.loginPageContent,function(e){$("div#contentToPush").html(e),new i.default(m)})},t.prototype.loadDashboardPage=function(){console.log("Loading dashboard page"),$.get(this.dashboardContainerContent,function(e){$("div#contentToPush").html(e),r()}),new s.default(m,c).loadDashboard(),new l.default(o).loadInitialData()},$(document).ready(function(){$(window).resize(function(){}),c=$("body"),m=new t,m.loadLoginPage(),$(document).on("click","[data-toggle='open-new-driver']",function(){$("#modal-New-driver").modal("show")}),$(document).on("click","[data-toggle='driver-profile']",function(){$(this).data("driver-id");$("#modal-driver-profile").modal("show"),$("#modal-driver-profile .show-after-loading").putTemplate("#template-driver-profile","")}),$(document).ready(function(){$(document).on("click","#expand-compress-icon",function(e){e.preventDefault(),$("#compressed-with-map").show(),$("#expand-without-map").removeClass("col-sm-12").addClass("col-sm-6"),d.initQTMap(40.73061,-73.935242),d.showActorsOnMap(o.getActorPointsData())}),$(document).on("change","[name='email-setting']",function(){alert("button change working")}),$(document).on("change","input[type=radio]",function(){alert("button change working")}),$(document).on("click","#locationChange",function(e){e.preventDefault();$("#currencyDiv").hide(),$("#menuDivDropdown").putTemplate("#template-location-change",void 0);var t=$("#dashboardDiv").offset();$("#dashboardDiv").height($(document).innerHeight()-t.top)}),$(document).on("click","#propicChange",function(e){e.preventDefault(),$("#currencyDiv").hide();var t=$(this).attr("value");$("#menuDivDropdown").putTemplate("#template-propic-change",void 0);var r=$("#dashboardDiv").offset();$("#dashboardDiv").height($(document).innerHeight()-r.top),""!==t&&null!==t&&$("#setPicture").attr("src",t)}),$(document).on("click","#passChange",function(e){e.preventDefault(),$("#currencyDiv").hide();$("#menuDivDropdown").putTemplate("#template-password-change",void 0);var t=$("#dashboardDiv").offset();$("#dashboardDiv").height($(document).innerHeight()-t.top)}),$(document).on("click","[data-task='profile']",function(e){e.preventDefault(),n.loadView("accountInfo")})});var e=($(window),$("body"));$(".nav").append('<a href="#" class="close"></a>').appendTo(e).panel({delay:500,hideOnClick:!0,hideOnSwipe:!0,resetScroll:!0,resetForms:!0,side:"right",target:e,visibleClass:"is-menu-visible"})})}()},{"./dashboard.loader":3,"./data.manager":4,"./init.data.loader":7,"./login.controller":8,"./map.controller":9,"./view.loading":15}],2:[function(e,t,r){"use strict";!function(){function e(){$("#billingTable").DataTable({paging:!1,ordering:!1,info:!1,searching:!1})}r.generateBillingTable=e}()},{}],3:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),i=function(){function e(t,r){a(this,e),this.qtController=t,this.bodyNode=r,this.dashboardContainerContent="views/dbContainer.html",this.contentUris=["views/map.html","views/avatarImageTemplate.html","views/dashboard.html","views/accountInfo.html","views/billingInfo.html","views/driverInfo.html","views/settingsInfo.html","views/report.html","views/order.html","views/propicChange.html","views/passwordChange.html","views/locationChange.html","views/orderItemRow.html","views/orderDetail.html","views/dashboardOrderRow.html"]}return n(e,[{key:"loadDashboard",value:function(){var e=this;this.contentUris.forEach(function(t){return e.fetchAndAppendContent(t)})}},{key:"fetchAndAppendContent",value:function(e){var t=this;$.get(e,function(e){return t.bodyNode.append(e)})}}]),e}();r.default=i},{}],4:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),i=function(){function e(){a(this,e),this.billingInfo=[],this.driverPaymentReport=[],this.orderDetailsInfo=[],this.driverList=[],this.driverPaymentList=[],this.settingsData=[],this.activeOrdersData=[],this.futureOrdersData=[],this.actorPoints=[]}return n(e,[{key:"getBillingInfo",value:function(){return this.billingInfo}},{key:"setBillingInfo",value:function(e){this.billingInfo=e}},{key:"getOrderDetails",value:function(){return this.orderDetailsInfo}},{key:"setOrderDetails",value:function(e){this.orderDetailsInfo=e}},{key:"getDriverList",value:function(){return this.driverList}},{key:"setDriverList",value:function(e){this.driverList=e}},{key:"getDriverPaymentList",value:function(){return this.driverPaymentList}},{key:"setDriverPaymentList",value:function(e){this.driverPaymentList=e}},{key:"getDriverPaymentReport",value:function(){return this.driverPaymentReport}},{key:"setDriverPaymentReport",value:function(e){this.driverPaymentReport=e}},{key:"getSettingsData",value:function(){return this.settingsData}},{key:"setSettingsData",value:function(e){this.settingsData=e}},{key:"getActiveOrderData",value:function(){return this.activeOrdersData}},{key:"setActiveOrderData",value:function(e){this.activeOrdersData=e}},{key:"getFutureOrderData",value:function(){return this.futureOrdersData}},{key:"setFutureOrderData",value:function(e){this.futureOrdersData=e}},{key:"getActorPointsData",value:function(){return this.actorPoints}},{key:"setActorPointsData",value:function(e){this.actorPoints=e}}]),e}();r.default=i},{}],5:[function(e,t,r){"use strict";!function(){function e(e){return w(e)+"&nbsp;   "+D(e)}function t(){var e=new Date,t=e.getDate(),r=e.getMonth()+1;return r=r<10?"0"+r:r,t=t<10?"0"+t:t,e.getFullYear()+"-"+r+"-"+t}function a(e,t){return new Date(e.getTime()+6e4*t)}function n(e){var t,r=e.getHours(),a=e.getMinutes();return r>12?(r-=12,t="PM"):t=12===r?"PM":"AM",r=r<10?"0"+r:r,a=a<10?"0"+a:a,r+":"+a+" "+t}function i(e){return n(a(new Date,e))}function o(e){var t=e.getFullYear(),r=e.getDate(),a=e.getMonth()+1;return r=r<10?"0"+r:r,T(a)+" "+r+", "+t}function s(){return o(new Date)}function d(){var e=new Date;return e.setDate(e.getDate()+1),o(e)}function u(){var e=new Date;return e.setDate(e.getDate()-1),o(e)}function c(){var e=new Date,t=[],r=e.getDay(),a=r,n=new Date;return n.setDate(e.getDate()-a),t[0]=o(n),n=new Date,n.setDate(e.getDate()-a+6),t[1]=o(n),t}function l(){var e=new Date;e.setDate(1);var t=new Date;return t.setMonth(t.getMonth()+1),t.setDate(0),[o(e),o(t)]}function m(){for(var e=new Date,t="",r=e.getDay(),a=r,n=0;n<=6;n++){var i=new Date;i.setDate(i.getDate()+(n-a)),t+=o(i)+"|"}return t=t.substr(0,t.length-1)}function p(e){var t=e.year,r=e.monthOfYear,a=e.dayOfMonth,n=e.hourOfDay,i=e.minuteOfHour,o=e.secondOfMinute;return r<10&&(r="0"+r),a<10&&(a="0"+a),n<10&&(n="0"+n),i<10&&(i="0"+i),o<10&&(o="0"+o),t+"-"+r+"-"+a+" "+n+":"+i+":"+o}function f(e){var t;if(e.indexOf("T")>0)t=new Date(e);else{var r=e.replace(/-/g,"/");r+=" UTC",t=new Date(r)}return t}function g(e,t){return f(e+" "+t)}function h(e,t){var r=g(e,t).getTime()+3e5;return!((new Date).getTime()>r)}function v(e,t,r){var a=g(e,t).getTime(),n=(new Date).getTime();return r=12e5,!(n+3e5+r>a)}function D(e){var t,r,a=e.getHours(),n=e.getMinutes();return r=a>=12?H:B,t=a%12,0===t&&(t=12),n<10&&(n="0"+n),t+":"+n+" "+r}function b(e){var t=e.getHours(),r=e.getMinutes();return r<10&&(r="0"+r),t+":"+r}function T(e){switch(e){case 1:return"Jan";case 2:return"Feb";case 3:return"Mar";case 4:return"Apr";case 5:return"May";case 6:return"Jun";case 7:return"Jul";case 8:return"Aug";case 9:return"Sep";case 10:return"Oct";case 11:return"Nov";case 12:return"Dec"}}function y(e){var t=e.getFullYear(),r=e.getMonth()+1,a=e.getDate(),n=T(r);return a<10&&(a="0"+a),n+" "+a+", "+t}function w(e){var t=e.getMonth()+1,r=e.getDate(),a=T(t);return r<10&&(r="0"+r),a+" "+r+","}function $(e){var t=e.getFullYear(),r=e.getMonth()+1,a=e.getDate(),n=e.getHours(),i=e.getMinutes(),o=e.getSeconds();return r<10&&(r="0"+r),a<10&&(a="0"+a),n<10&&(n="0"+n),i<10&&(i="0"+i),o<10&&(o="0"+o),a+"-"+r+"-"+t+" "+n+":"+i+":"+o}function I(e,t){return t.getTime()-e.getTime()}function O(e){return Math.round(e/R)}function k(e){return I(f(e),new Date)}function C(e,t){return I(f(e),f(t))}function P(e){var t=parseInt(e.substring(0,e.indexOf(":")));return e.indexOf("PM")>0?12!==t?t+12+":"+e.substring(e.indexOf(":")+1,e.indexOf("P")-1)+":00":t+":"+e.substring(e.indexOf(":")+1,e.indexOf("P")-1)+":00":12!==t?t<10?"0"+t+":"+e.substring(e.indexOf(":")+1,e.indexOf("A")-1)+":00":t+":"+e.substring(e.indexOf(":")+1,e.indexOf("A")-1)+":00":"00:"+e.substring(e.indexOf(":")+1,e.indexOf("A")-1)+":00"}function A(e){var t=new Date(e);return new Date(t.getTime()+6e4*(new Date).getTimezoneOffset()).toUTCString()}function E(e){switch(e){case"Jan":return 1;case"Feb":return 2;case"Mar":return 3;case"Apr":return 4;case"May":return 5;case"Jun":return 6;case"Jul":return 7;case"Aug":return 8;case"Sep":return 9;case"Oct":return 10;case"Nov":return 11;case"Dec":return 12}}function S(e){var t,r=e.substring(4,6),a=e.substring(0,3),n=e.substring(8),i=E(a);return t=i<10?"0"+i:i,n+"-"+t+"-"+r}function N(e){var t,r=e.substring(5,7),a=e.substring(8,11),n=e.substring(12),i=E(a);return t=i<10?"0"+i:i,n+"-"+t+"-"+r}function x(){var e=(new Date).getTimezoneOffset();return e<0?"+"+F(-1*e*60):"-"+F(60*e)}function F(e){var t=Math.floor(e/3600),r=e%3600,a=Math.floor(r/60),n=r%60,i=Math.ceil(n);return t<10&&(t="0"+t),a<10&&(a="0"+a),i<10&&(i="0"+i),t+":"+a+":"+i}function _(e){return y(e)+"&nbsp;&nbsp;   "+D(e)}function M(e,t){var r;r=e>t?e-t:t-e;var a={year:0,month:0,day:0,hour:0,minute:0,second:0};for(var n in a)a.hasOwnProperty(n)&&(a[n]=Math.floor(r/Y[n]),r-=a[n]*Y[n]);return a}function L(e){var t=e.split(/[\/\-\.\T]/,3);return T(parseInt(t[1]))+" "+t[2]+", "+t[0]}var R=6e4,B="a.m.",H="p.m.",Y={year:0,month:0,day:0,hour:0,minute:0,second:0};Y.second=1e3,Y.minute=60*Y.second,Y.hour=60*Y.minute,Y.day=24*Y.hour,Y.month=30*Y.day,Y.year=365*Y.day,r.pickupTimeOk=h,r.getTimeHourMinute=n,r.getDateForTableFilterToday=s,r.getDateForTableFilterTomorrow=d,r.getDateForTableFilterYesterday=u,r.getThisWeekRange=c,r.getTodayYearMonthData=t,r.getThisMonthRange=l,r.getDateForTableFilterThisWeek=m,r.getTimeForTimePicker=i,r.getReadableFormatFromDateTime=$,r.extractDateTimeFrom=p,r.deliveryTimeOk=v,r.getTimeFromDateTimeWithoutPeriod=b,r.getDeliveryTime=C,r.covertTo24HourFormat=P,r.convertToUTCDateTime=A,r.HReadableToSqlFormat=S,r.convertToSqlDateFormat=N,r.getBrowserTimeZoneOffset=x,r.getHourMinuteSecondFromSeconds=F,r.getDateAndTimeFromDateTime=_,r.getDateFromDateTime=y,r.dateDiff=M,r.getMonthDateYearWithoutDateFunc=L,r.getMonthDateFromDateTime=w,r.getDateForTableFilterMonthDateYear=o,r.convertDateTimeToJsDate=g,r.formatTimeInDashbord=e,r.getDuration=I,r.getElapsedTime=k,r.convertToBrowsersDateTime=f,r.getMonthDateYearWithoutDateFunc=L,r.getMonthDateYearWithoutDateFunc=L,r.getTimeFromDateTime=D,r.convertMilisecondsToMinutes=O,r.getMonthFromNumber=T,r.getMonthNumber=E,r.addMinutes=a}()},{}],6:[function(e,t,r){"use strict";!function(){function t(e){var t=[];return $.each(e,function(e,r){t.push({driverId:r.id,driverName:r.name,orderNo:r.numberOfAssignedOrders,raw:r})}),t}function a(e){var t=[];return $.each(e,function(e,r){$.each(r.assignedOrders,function(e,r){t.push(n(r))})}),console.log("returning orderdata"+t),t}function n(e){var t=y.convertToBrowsersDateTime(e.orderDateTimeInfo.placementTime),r=y.formatTimeInDashbord(t),a=s(e.previouslyAssignedCarriers),n=null===e.assignedCarrier?null:e.assignedCarrier.id,o=I.isAfterPickedUp(e.orderStatus),d=e.costInfo.cashTip;return{driverId:n,orderId:e.id,orderNumber:e.orderNumber,time:t,formatedTime:r,fromName:e.restaurant.name,fromAddress:i(e.restaurant.address),toName:e.customer.name,toAddress:i(e.customer.address),rejectedCarriers:a.rejectedCarriers,noResponseCarriers:a.noResponseCarriers,carrier_name:e.assignedCarrier,totalCost:-1===e.costInfo.totalCost?"N/A":e.costInfo.totalCost,totalTip:-1===e.costInfo.predefinedTip?"N/A":e.costInfo.predefinedTip+d,alert:I.alertOrder(e),accepted:e.accepted,status:e.orderStatus,prettyStatus:I.adaptOrderStatusData(e.orderStatus),autoAssignmentStatus:e.autoAssignmentStatus,afterPickedUp:o,scheduled:e.scheduled,parentId:e.parentId}}function i(e){var t="",r=e.split(",");if(r.length<3)return e;for(var a=0;a<r.length-2;a++)t+=r[a]+",";return t=t.substr(0,t.length-1)}function o(e){var t=[],r=[];return $.each(e,function(e,a){var n,i,o,s,d,c,l,m;n=a.name;var p,f="<div style='padding-left: 20%'><input type='number' id='adjustmentInput' carrierId='"+a.carrierId+"'  value='"+a.existingAdjustment+"' prevAdjust='"+a.existingAdjustment+"'  style='width:100px;'> </div>";p="";var g="<a href='javascript:void(0)' class='' data-toggle='driver-profile' data-driver-id='"+a.id+"'>"+p+n+"</a>";a.onDuty?(i="<a href='tel:"+T.correctPhoneFormat(a.phoneNumber)+"'>"+T.correctPhoneFormat(a.phoneNumber)+"</a>",o=a.completedDeliveries,s=T.adaptOrderCostInput(a.deliveryFees),d=T.adaptOrderCostInput(a.onlineTips),c=T.adaptOrderCostInput(a.tipsAnddeliveryFees),l=f,m=a.totalEarning):(i="<a href='tel:"+T.correctPhoneFormat(a.phoneNumber)+"'>"+u(T.correctPhoneFormat(a.phoneNumber))+"</a>",o=a.completedDeliveries,s=u(T.adaptOrderCostInput(a.deliveryFees)),d=u(T.adaptOrderCostInput(a.onlineTips)),c=u(T.adaptOrderCostInput(a.tipsAnddeliveryFees)),l=f,m=u(T.adaptOrderCostInput(a.totalEarning)));var h=[g,i,o,s,d,c,l,m];a.onDuty?t.push(h):r.push(h)}),t.concat(r)}function s(e){var t=[],r=[];return $.each(e,function(e,a){"TIMED_OUT"===a.cause?-1===$.inArray(a.name,t)&&t.push(a.name):-1===$.inArray(a.name,r)&&r.push(a.name)}),{noResponseCarriers:t,rejectedCarriers:r}}function d(e){var t=[],r=[];return $.each(e,function(e,a){var n,i,o,s,d,g,h=c(a),v=l(a);a.status?(n=v,g=a.email,i="On Duty",o="<span>"+f(a.vehicle.type)+"</span>",s=a.phoneNumber,d=m(a)):(n=u(v),g=u(a.email),i=u("Off Duty"),o=u(f(a.vehicle.type)),s="<a href='tel:"+a.phoneNumber+"</a>",d=p(a));var D=[h,s,g,n,o,i,d];a.status?t.push(D):r.push(D)}),t.concat(r)}function u(e){return"<span style='color: #9da3b3'>"+e+"</span>"}function c(e){return"<a href='javascript:void(0)' class='' data-toggle='driver-profile' data-driver-id='"+e.id+"'>"+e.name+"</a>"}function l(e){return e.personalId?e.personalId:"N/A"}function m(e){return"<a href='javascript:void(0)' class='btn btn-sm btn-questtag btn-block small-text-special' data-task='carrier-end-shift' data-refid='"+e.shiftId+"'>End shift</a>"}function p(e){return"<a href='javascript:void(0)'class='btn btn-sm btn-questtag btn-block small-text-special' data-task='carrier-end-shift' data-refid='"+e.shiftId+"' disabled>End shift </a>"}function f(e){var t='<span class="fa ',r='"></span>';return"CAR"===e?t+"fa-car"+r:"BICYCLE"===e?t+"fa-bicycle"+r:"MOTORCYCLE"===e?t+"fa-motorcycle"+r:"MOTORBIKE"===e?t+"fa-motorcycle"+r:void 0}function g(e){var t=d(e);$("#table_id_carrier").DataTable({bFilter:!1,paging:!1,info:!1,order:[[5,"desc"]],data:t,aoColumns:[{bSortable:!1,className:"nowrap"},{bSortable:!1},{bSortable:!1},{bSortable:!1},{bSortable:!1},{bSortable:!1},{bSortable:!1}]})}function h(e){var t=o(e);$("#table_driver_payment").DataTable({bFilter:!1,paging:!1,order:[[7,"desc"]],info:!1,data:t,aoColumns:[{bSortable:!1,className:"nowrap"},{bSortable:!1},{bSortable:!1,className:"text-center"},{bSortable:!1},{bSortable:!1},{bSortable:!1},{bSortable:!1},{bSortable:!1}]})}function v(e){var t,r=null;if(null===(r=null!==e.thumbnailImagePath?e.thumbnailImagePath:null!==e.imagePath?e.imagePath:null))t=$("#template-avatar-lg-custom").templateify({name:w.makeNameSmaller(e.name),bg_color:e.status?null:"#888"});else{var a=r.split("//"),n="";n=void 0===a[1]?"http://qt.com.dashboard.order.item.s3.amazonaws.com/94e4d44a807d4978af82a68d0ade9d5f.jpg":"http://"+a[1],t=$("#image-avatar").templateify({image:n,large:!0,blackAndWhite:!e.status})}return t}function D(e,t,r,a){var n,i,o=a;n=v(o),i="<span>"+w.treatCarrierName(o.name)+"</span>";var s="";o.status&&(s="text-color-black");var d=T.createDiv("each-row driver-column-margin "+s,"",{"data-task":"showHide","data-hide":"#activeOrdersOfCarrierColoumn .each-row","data-show":"[data-driverid='"+e+"']","data-callback":"leftColumnButtonClick","data-argument":"this","data-driverid":e}),u=n+" "+i+" - <strong>"+r+"</strong>";return d.innerHTML=u,d}function b(e){$("#carriersColumn").html(" ");var t=0;$.each(e,function(e,r){var a=D(r.driverId,r.driverName,r.orderNo,r.raw);!1!==a&&($("#carriersColumn").append(a),t++)}),t>0?$("#no-driver-msg2").hide():$("#no-driver-msg2").show()}var T=e("./utility"),y=e("./dateTimeHelper"),w=e("./processImageAndName"),I=e("./order.controller");r.generateDriverView=g,r.generateDriverPaymentView=h,r.formatCarriers=s,r.adaptingDashboardDriverData=t,r.adaptDriverImageData=v,r.loadLeftColumn=b,r.adaptingDashboardOrderData=a,r.adaptingEachOrderCommon=n}()},{"./dateTimeHelper":5,"./order.controller":10,"./processImageAndName":11,"./utility":14}],7:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),i=function(){function e(t){a(this,e),this.dataManager=t,this.driverDataPath="resources/driverdata.json",this.settingsDataPath="resources/settingsdata.json",this.activeOrdersPath="resources/activeorders.json",this.futureOrdersPath="resources/futureorders.json",this.driverPaymentPath="resources/driverpayment.json",this.markerPointsPath="resources/markerpoints.json",this.billingInfoPath="resources/billingInfos.json",this.driverPaymentReportPath="resources/driverPaymentReport.json",this.orderDetailsPath="resources/orderDetailsInfo.json"}return n(e,[{key:"loadInitialData",value:function(){var e=this;$.get(this.driverDataPath,function(t){return e.dataManager.setDriverList(t)}),$.get(this.settingsDataPath,function(t){return e.dataManager.setSettingsData(t)}),$.get(this.activeOrdersPath,function(t){return e.dataManager.setActiveOrderData(t)}),$.get(this.futureOrdersPath,function(t){return e.dataManager.setFutureOrderData(t)}),$.get(this.driverPaymentPath,function(t){return e.dataManager.setDriverPaymentList(t)}),$.get(this.markerPointsPath,function(t){return e.dataManager.setActorPointsData(t)}),$.get(this.billingInfoPath,function(t){return e.dataManager.setBillingInfo(t)}),$.get(this.driverPaymentReportPath,function(t){return e.dataManager.setDriverPaymentReport(t)}),$.get(this.orderDetailsPath,function(t){return e.dataManager.setOrderDetails(t)})}}]),e}();r.default=i},{}],8:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),i=function(){function e(t){a(this,e),this.qtController=t,this.formId="qtLoginForm",this.emailInputField="lgEmail",this.passwordInputField="lgPassword",this.loginForm=null,this.emailInput=null,this.passwordInput=null,this.initialize()}return n(e,[{key:"initialize",value:function(){var e=this;this.loginForm=document.getElementById(this.formId),this.emailInput=document.getElementById(this.emailInputField),this.passwordInput=document.getElementById(this.passwordInputField),this.loginForm.addEventListener("submit",function(t){return e.submitLoginForm(t)})}},{key:"submitLoginForm",value:function(e){e.preventDefault();var t=this.emailInput.value,r=this.passwordInput.value;console.log(t+" : "+r),this.qtController.loadDashboardPage()}}]),e}();r.default=i},{}],9:[function(e,t,r){"use strict";!function(){function t(e,t){console.log("in map function"),Y[R]={},Y[B]={},Y[H]={},F=e,_=t;var r=new google.maps.LatLng(F,_),a={center:r,zoom:12,disableDefaultUI:!0,styles:E(),disableDoubleClickZoom:!0};L=new google.maps.Map(document.getElementById(M),a)}function a(e){o(e),i()}function n(e,t,r){t.lat=t.latitude,t.lng=t.longitude,P(e,t),O(e,t,r),k(e,t.id),A(e,t)}function i(){s(V),u(j),d(U)}function o(e){return"true"===e.success&&(V=e.carrier_actors,U=e.customer_actors,j=e.restaurant_actors,!0)}function s(e){for(var t in e)e.hasOwnProperty(t)&&l(e[t])}function d(e){for(var t in e)e.hasOwnProperty(t)&&p(e[t])}function u(e){for(var t in e)e.hasOwnProperty(t)&&c(e[t])}function c(e){console.log("showing restaurant marker"),e.type=H,e.toolTip=!0,null!==e.icon&&void 0!==e.icon||(e.icon=q);e.iconContent=m({name:e.numberOfOrder,opacity:1,css:"marker-restaurant",info:e});var t=w(e);n(H,e,t)}function l(e){console.log("showing carrier marker"),e.type=R;null!==e.icon&&void 0!==e.icon||(e.waiting="Waiting"===e.status,e.shortName=S.makeNameSmaller(e.name),e.iconContent=Handlebars.compileFromSource($("#template-carrier-marker").html(),e));var t=I(e);n(R,e,t)}function m(e){return Handlebars.compile($("#template-restaurant-marker").html())(e)}function p(e){console.log("showing customer marker"),e.type=B,console.log(JSON.stringify(e)),console.log("html "+$("#template-customer-popover").html()),null!==e.icon&&void 0!==e.icon||(e.icon=W,console.log("1"));var t="marker-customer-assigned";e.assigned=!0,"NOT_ASSIGNED"!==e.orderStatus&&"NOT_STARTED_YET"!==e.orderStatus||e.scheduled?"NOT_ASSIGNED"!==e.orderStatus&&"NOT_STARTED_YET"!==e.orderStatus||!e.scheduled?"NOT_ASSIGNED"===e.orderStatus&&"NOT_STARTED_YET"===e.orderStatus||!e.scheduled||(t="marker-customer-assigned-scheduled"):t="marker-customer-scheduled":(e.assigned=!1,t="marker-customer"),console.log("2");var r=x.convertMilisecondsToMinutes(x.getElapsedTime(e.orderPlacementTime));console.log("3"),r>90?r="90+":r+=" <small>m</small>",console.log("4");var a=x.convertToBrowsersDateTime(e.expectedDeliveryDate+" "+e.expectedDeliveryTime);console.log("5"),!0===e.scheduled&&(r=x.getTimeFromDateTimeWithoutPeriod(a),t+=" customer-border"),console.log("6"),e.iconContent=S.getAvatarImageFromName({name:r,opacity:1,css:t,info:e}),console.log("7"),e.afterPickedUp=N.isAfterPickedUp(e.orderStatus),e.accepted=N.getStatusStage(e.orderStatus)>1;var i=Handlebars.compileFromSource($("#template-customer-popover").html(),e);n(B,e,i)}function f(){L.setZoom(L.getZoom()+1)}function g(){L.setZoom(L.getZoom()-1)}function h(e,t){return'<h3 class="popover-title background-color-black-alfa padding-left-2 padding-right-2"><span id="top-left" class="pull-left">'+e+'</span><span id="top-right" class="pull-right padding-right-5" style="font-size:12px; line-height:16px; font-style:italic;">'+t+"</span><span>&nbsp;</span></h3>"}function v(e){return'<div class="restaurant_div">\n <p class="left-icon-keeper background-restaurant" id="restaurant-info">'+e+"</p>\n</div>"}function D(e){return'<div class="carrier_div for-top-border-position">\n <div class="bottom-border-white-A8A9AD margin-left-25"></div>\n                                    <p class="left-icon-keeper background_car" id="carrier-info">'+e+"</p>\n                                </div>"}function b(e){var t={name:"",status:"",getRestaurant:"",getCustomer:"",getCarrier:""};t.name=e.name;var r=e.name;return void 0!==e.destinationAddress&&(r=t.name+"<br>"+e.destinationAddress),t.status=void 0!==e.status?e.status:"",t.getCarrier=D(r),t}function T(e){var t={name:"",status:"",getRestaurant:"",getCustomer:"",getCarrier:""};t.name=e.name,t.status=e.numberOfOrder;var r=e.name+"<br>"+e.address;return t.getRestaurant=v(r),t}function y(e){return'<div class="popover top background-color-black-alfa text-color-E2E2E4-white position-relative radius-0" style="display:block; z-index:-1;width:215px;">\n<div class="arrow" style="border-top-color:rgba(0,0,0,.75);"></div>\n'+h(e.name,e.status)+'<div class="popover-content padding-left-2 padding-right-2">\n'+e.getCustomer+"\n "+e.getRestaurant+"\n "+e.getCarrier+"</div>\n</div>"}function w(e){var t;return t=T(e),y(t)}function I(e){var t;return t=b(e),y(t)}function O(e,t,r){var a=t.id,n={content:r,disableAutoPan:!1,maxWidth:0,alignBottom:!0,pixelOffset:new google.maps.Size(-105,-40),zIndex:null,boxStyle:{opacity:.75,width:"210px"},closeBoxMargin:"2px 2px 2px 2px",closeBoxURL:z,infoBoxClearance:new google.maps.Size(1,1),isHidden:!1,pane:"floatPane",enableEventPropagation:!1};Y[e][a].infoBox={},Y[e][a].infoBox=new InfoBox,Y[e][a].infoBox.setOptions(n)}function k(e,t){google.maps.event.addListener(Y[e][t].marker,"click",function(){C(e,t)}),google.maps.event.addListener(Y[e][t].infoBox,"closeclick",function(){})}function C(e,t){var r=Y;for(var a in r[e])r[e].hasOwnProperty(a)&&r[e][a].infoBox.close();e!==H&&r[e][t].infoBox.open(L,r[e][t].marker)}function P(e,t){void 0===Y[e][t.id]&&(Y[e][t.id]=[]);var r={map:L,position:new google.maps.LatLng(t.lat,t.lng),anchor:RichMarkerPosition.MIDDLE,flat:!0,content:t.iconContent,optimized:!1};e===R&&(r.zIndex=99999999);var a=new RichMarker(r);Y[e][t.id].marker=a}function A(e,t){Y[e][t.id].info=t}function E(){return[G,K,Z,J,Q,X,ee,te]}var S=e("./processImageAndName"),N=e("./order.controller"),x=e("./dateTimeHelper"),F=0,_=0,M="map_div",L=null,R="carriers",B="customers",H="restaurants",Y={},V=[],U=[],j=[],z=($("#template-carrier-marker").html(),"imgs/close.png"),q="imgs/map/restaurant.png",W="imgs/map/home.png",G={featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},K={featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},Z={featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},J={featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},Q={featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},X={featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},ee={featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},te={featureType:"water",elementType:"all",stylers:[{color:"#46bcec"},{visibility:"on"}]};$(document).ready(function(){$(document).on("click","#mapZoomIn",function(e){e.preventDefault(),f()}),$(document).on("click","#mapZoomOut",function(){g()})}),r.initQTMap=t,r.showActorsOnMap=a}()},{"./dateTimeHelper":5,"./order.controller":10,"./processImageAndName":11}],10:[function(e,t,r){"use strict";!function(){function t(e){var t=[];return $.each(e,function(e,r){var a,n,i,o=f(r.orderStatus),c=p(r);"PICKUP_ALERT"===c&&"NOT_ASSIGNED"!==r.orderStatus?o="<span class='text-color-orange' >"+o+"</span>":"DELIVERY_ALERT"===c&&"NOT_ASSIGNED"!==r.orderStatus?o="<span class='text-color-brick-red'>"+o+"</span>":"NOT_ASSIGNED"===r.orderStatus&&(o="<div class='set_middle'><a href='javascript:void(0)' class='btn btn-questtag btn-sm small-text3' style='display: block' title='Assign Order' data-task='assignment' data-refid='"+r.id+"'>"+o+"</a></div>"),a=w.getTimeFromDateTime(w.convertToBrowsersDateTime(r.orderDateTimeInfo.placementTime)),n=w.convertMilisecondsToMinutes(w.getElapsedTime(r.orderDateTimeInfo.placementTime));var g=w.convertToBrowsersDateTime(r.orderDateTimeInfo.expectedDeliveryDate+" "+r.orderDateTimeInfo.expectedDeliveryTime);i=w.getTimeFromDateTime(g);var h,v=parseFloat(r.distanceBetweenPickUpAndDeliveryLocation).toFixed(2),D=m(v),b=d(n),T=u(r.costInfo.totalCost);h=r.scheduled?'<span><i class="fa fa-clock-o" aria-hidden="true"></i> '+r.orderNumber+"</span>":r.parentId>0?'<span><img width="14" height="14" alt="" src="imgs/redrop.png"> '+r.orderNumber+"</span>":r.orderNumber;var y=[h,r.customer.name,r.restaurant.name,T,v+" "+D,a,i,n+" "+b,s(r.assignedCarrier),o,l(r.id)];t.push(y)}),t}function a(e){return-1!==$.inArray(e.orderStatus,k)&&!1===w.pickupTimeOk(e.orderDateTimeInfo.expectedDeliveryDate,e.orderDateTimeInfo.expectedPickUpTime)?"PICKUP_ALERT":"PICKED_UP"===e.orderStatus&&!1===w.deliveryTimeOk(e.orderDateTimeInfo.expectedDeliveryDate,e.orderDateTimeInfo.expectedDeliveryTime)&&"DELIVERY_ALERT"}function n(e){$("#orderDetailsView").modal("show");var t=O.getOrderDetailsData(),r=i(t);$("#orderDetailsView .main-content").putTemplate("#template-order-detail",r),$("#orderDetailsView .show-before-loading").hide(),$("#orderDetailsView .show-after-loading").show(),"ALREADY_DELIVERED"!==r.orderStatus?($("#orderDetailsView .deleteButton").attr("data-delete",r.order_id),$("#orderDetailsView .deleteButton").show(),$("#orderDetailsView .forceOrderComplete").show()):($("#orderDetailsView .deleteButton").hide(),$("#orderDetailsView .forceOrderComplete").hide())}function i(e){var t=e.orders[0];if(t.signature_path){var r=t.signature_path.split("//");t.signature_path="http://"+r[1]}return t}function o(e){var t=[];return $.each(e,function(e,r){var a,n,i,o=f(r.orderStatus),c=p(r);"PICKUP_ALERT"===c&&"NOT_ASSIGNED"!==r.orderStatus?o="<span class='text-color-orange' >"+o+"</span>":"DELIVERY_ALERT"===c&&"NOT_ASSIGNED"!==r.orderStatus?o="<span class='text-color-brick-red'>"+o+"</span>":"NOT_ASSIGNED"===r.orderStatus&&(o="<div class='set_middle'><a href='javascript:void(0)' class='btn btn-questtag btn-sm small-text3' style='display: block' title='Assign Order' data-task='assignment' data-refid='"+r.id+"'>"+o+"</a></div>"),a=w.getTimeFromDateTime(w.convertToBrowsersDateTime(r.orderDateTimeInfo.placementTime)),n=w.convertMilisecondsToMinutes(w.getElapsedTime(r.orderDateTimeInfo.placementTime));var g=w.convertToBrowsersDateTime(r.orderDateTimeInfo.expectedDeliveryDate+" "+r.orderDateTimeInfo.expectedDeliveryTime);i=w.getTimeFromDateTime(g);var h,v=parseFloat(r.distanceBetweenPickUpAndDeliveryLocation).toFixed(2),D=m(v),b=d(n),T=u(r.costInfo.totalCost);h=r.scheduled?'<span><i class="fa fa-clock-o" aria-hidden="true"></i> '+r.orderNumber+"</span>":r.parentId>0?'<span><img width="14" height="14" alt="" src="imgs/redrop.png"> '+r.orderNumber+"</span>":r.orderNumber;var y=[h,r.customer.name,r.restaurant.name,T,v+" "+D,a,i,n+" "+b,s(r.assignedCarrier),o,l(r.id)];t.push(y)}),t}function s(e){return null===e?"<p style='text-align:center' >_ _</p>":I.lastNameOneCharacter(e.name)}function d(e){return e<=1?"min.":""}function u(e){return c(e)}function c(e){return e<0?"N/A":"$"+(e=parseFloat(e).toFixed(2))}function l(e){
return'<div class="set_middle"><a href="javascript:void(0)" class="btn btn-questtag btn-sm small-text3" style="display: block" data-task="viewOrder" data-orderId="'+e+'">View</a></div>'}function m(e){return e<=1?"mile":"miles"}function p(e){return-1!==$.inArray(e.orderStatus,k)&&!1===w.pickupTimeOk(e.orderDateTimeInfo.expectedDeliveryDate,e.orderDateTimeInfo.expectedPickUpTime)?"PICKUP_ALERT":"PICKED_UP"===e.orderStatus&&!1===w.deliveryTimeOk(e.orderDateTimeInfo.expectedDeliveryDate,e.orderDateTimeInfo.expectedDeliveryTime)&&"DELIVERY_ALERT"}function f(e){var t=null;switch(e){case"NOT_ASSIGNED":t="Unassigned";break;case"NOT_ACCEPTED":t="Waiting";break;case"NOT_STARTED_YET":t="Not started";break;case"STARTED":t="Started";break;case"PICKED_UP":t="Picked Up";break;case"READY_TO_DELIVER":t="At the Door";break;case"ALREADY_DELIVERED":t="Delivered";break;case"INCOMPLETE":t="Incomplete"}return t}function g(e){return $.inArray(e,C)}function h(e){return-1===$.inArray(e,k)}function v(){var e=$("#newOrderForm [data-order-item]").last().attr("data-order-item");void 0===e&&(e=0);var t=Number(e)+1;return $("#template-order-item-row").templateify({number:t})}function D(e){$("#new-order-items").append(e)}function b(){D(v())}function T(e){var r=t(e);$("#table-active-order").DataTable({data:r,paging:!1,ordering:!1,info:!1,searching:!1})}function y(e){var t=o(e);$("#table-scheduled-order").DataTable({data:t,paging:!1,ordering:!1,info:!1,searching:!1,destroy:!0})}var w=e("./dateTimeHelper"),I=e("./utility"),O=e("./data.manager"),k=["NOT_ASSIGNED","NOT_ACCEPTED","NOT_STARTED_YET","STARTED"],C=[];C[0]="NOT_ASSIGNED",C[1]="NOT_ACCEPTED",C[2]="NOT_STARTED_YET",C[3]="STARTED",C[4]="PICKED_UP",C[5]="READY_TO_DELIVER",C[6]="ALREADY_DELIVERED",$(document).ready(function(){$(document).on("click","[data-task='assignment']",function(){$(this).attr("data-refId"),$(this).data("assigned");$("#assign_order").modal("show")}),$(document).on("click",'[data-task="unassign-order"]',function(){$(this).data("orderId")}),$(document).on("click",'[data-task="carrier-end-shift"]',function(){$(this).attr("data-refId")}),$(document).on("click",'[data-task="unassign-order-not-accepted"]',function(){}),$(document).on("click","#addNewItemRow",function(e){e.preventDefault(),b()}),$(document).on("click","[data-toggle='delete-element']",function(){var e=$(this).attr("data-select");$(e).remove()}),$(document).on("focus","#myModal_new_order [data-order-item]:last",function(){b()}),$(document).on("click","[data-task='viewOrder']",function(){n($(this).attr("data-orderId"))})}),r.getStatusStage=g,r.isAfterPickedUp=h,r.generateActiveOrderTable=T,r.generateFutureOrderTable=y,r.alertOrder=a,r.adaptOrderStatusData=f}()},{"./data.manager":4,"./dateTimeHelper":5,"./utility":14}],11:[function(e,t,r){"use strict";!function(){function e(e){var t=!0===e.big?$("#template-avatar-lg").html():$("#template-avatar").html();return void 0!==e.opacity&&null!==e.opacity||(e.opacity=1),Handlebars.compile(t)({name:e.name,opacity:e.opacity,bgColor:e.bgColor,info:e.info,css:e.css})}function t(e){return"Not Assigned"===e.trim()?e:a(e)}function a(e){var t="",r=e.split(" ");return r.length>1?(t+=r[0]+" ",t+=r[r.length-1].substring(0,1)+"."):t=e,t}function n(e){var t="",r=e.split(" ");return r.length>1?(t+=r[0].substring(0,1),t+=r[r.length-1].substring(0,1)):t=e.substring(0,2),t}function i(t){return e({name:n(t.name),big:!0})}function o(t){return e({name:n(t.name),opacity:t.opacity,bgColor:t.bgCOlor,css:t.css})}function s(e){var t=d,r=Handlebars.compile(t);return void 0!==e.opacity&&null!==e.opacity||(e.opacity=1),r({image:e.image,opacity:e.opacity,cornerCircle:e.cornerCircle})}var d=$("#image-avatar").html();r.makeNameSmaller=n,r.getAvatarImageFromFullNameLg=i,r.getAvatarImageFromFullName=o,r.AvatarImageFromImage=s,r.getAvatarImageFromName=e,r.treatCarrierName=t}()},{}],12:[function(e,t,r){"use strict";!function(){function t(){var e="driver-payment";o(e),a({type:e,option:"THIS_WEEK"})}function a(e){s(e.graph_data);var t;t=u.getMonthDateYearWithoutDateFunc(e.start_date)+" to "+u.getMonthDateYearWithoutDateFunc(e.end_date),n(t)}function n(e){$("#text-date-range").html(e)}function i(e){o(e),s()}function o(e){switch(e){case"driver-payment":f=c;break;case"sales-report":f=l;break;case"customer-service":f=p;break;case"deliveries":f=m}}function s(e){var t=new google.visualization.DataTable;t.addColumn("string",f.string),t.addColumn("number",f.number),t.addRows(d(e));var r="",a=0,n=0,i=d(e).length;i>=40?(r="100%",a=10,n=100,$("#graph-report").height(800)):i>=30?(r=700,a=12,n=100,$("#graph-report").height(700)):i>=20?(r=600,a=13,n=100,$("#graph-report").height(600)):i>=10?(r=500,a=14,n=75,$("#graph-report").height(500)):i<10&&i>=5?(r=400,a=15,n=40,$("#graph-report").height(400)):(r=400,a=15,n=10,$("#graph-report").height(400));var o,s={width:"100%",height:r,colors:["#ADB9C2"],vAxis:{textStyle:{fontSize:a}},hAxis:{textStyle:{fontSize:a+1}},bar:{groupWidth:n+"%"}},u={width:"100%",height:"100%",colors:["#ADB9C2"]};"HORIZONTAL"===f.chartType?($("#graph-report2").hide(),$("#graph-report").show(),o=new google.visualization.BarChart(document.getElementById("graph-report")),o.draw(t,s)):($("#graph-report2").show(),$("#graph-report").hide(),o=new google.visualization.ColumnChart(document.getElementById("graph-report2")),o.draw(t,u))}function d(e){if(void 0===e)return[];var t=[];return $.each(e,function(e,r){if(e.split("-").length>2){var a=u.getMonthDateYearWithoutDateFunc(e);t.push([a,r])}else parseFloat(r)>0&&t.push([e,r])}),t}var u=e("./dateTimeHelper"),c={},l={},m={},p={};c.string="Driver Name",c.chartType="HORIZONTAL",c.number="Driver Earnings",p.string="Date",p.chartType="VERTICAL",p.number="Avg. Customer Services",m.string="Date",m.chartType="VERTICAL",m.number="Number of deliveries",l.string="Date",l.chartType="VERTICAL",l.number="Total Sales";var f={};f=l,$(document).ready(function(){google.charts.load("current",{packages:["corechart"]}),google.setOnLoadCallback(),$(document).on("change",'[name="report-type"]',function(){console.log("report changing");i("driver-payment"),t()})}),r.whatToDraw=i}()},{"./dateTimeHelper":5}],13:[function(e,t,r){"use strict";!function(){function e(){}function t(){}function a(){}function n(){$(e.bussinessTypeInput).change(function(){console.log("change business type"),a.businessTypeSelected()})}e.bussinessTypeInput="#settings [name='bussiness-type']";e.inputForOnlyDeliveryDiv="#settings #only-on-deliveryOnly",e.inputForOnDemadDiv="#settings #only-onDemand",e.businessName='#settings [name="business-name"]',e.contactPhone='#settings [name="contact-phone"]',e.pickupLocation='#settings [name="pickup-location"]',e.maxTimeLimit='#settings [name="max-time-limit"]',e.latitudeText='#settings [name="lat"]',e.longitudeText='#settings [name="lng"]',e.zoomLevelText='#settings [name="zoom-level"]',e.autoDispatchingInput='#settings [name="auto-dispatching"]',e.checkGeofenceInput='#settings [name="check-geofence"]',e.maxOrderResponseTime='#settings [name="order-respose-time"]',e.scheduleOrderLeadTimeInSeconds='#settings [name="scheduled-order-lead-time"]',e.fixedDriverFeePerDelivery='#settings [name="fixed-driver-fee-per-delivery"]',e.geofenceRadius='#settings [name="geofence-radius"]',e.containerOnlyForGeofence="#settings #only-onGeofence",e.timeZoneSelector="#time-zone-offset",t.DELIVERY_ONLY="Delivery only",t.PICKUP_N_DELIVERY="Pickup and Delivery",a.businessTypeSelected=function(){a.isOnlyDelivery()?$(e.inputForOnlyDeliveryDiv).show():$(e.inputForOnlyDeliveryDiv).hide()},a.isOnlyDelivery=function(){return $(e.bussinessTypeInput+'[value="'+t.DELIVERY_ONLY+'"]').prop("checked")},a.showSettings=function(){console.log("show settings function"),a.businessTypeSelected()},r.showSettings=a.showSettings,r.businessTypeChangeEvent=n}()},{}],14:[function(e,t,r){"use strict";!function(){function e(e,t){var r=document.createElement(e);return $.each(t,function(e,t){r.setAttribute(e,t)}),r}function t(t,r,a){var n={};return void 0!==a&&$.each(a,function(e,t){n[e]=t}),n.class=t,n.id=r,e("div",n)}function a(e){var t=e;return void 0===e?e:(t=e.replace(" ",""),t=t.trim(),10!==t.length?e:t=t.slice(0,3)+" "+t.slice(3,6)+" "+t.slice(6,10))}function n(e){return e<0?"N/A":"$"+(e=parseFloat(e).toFixed(2))}r.correctPhoneFormat=a,r.adaptOrderCostInput=n,r.createDiv=t}()},{}],15:[function(e,t,r){"use strict";!function(){function t(e){var t=[];return $.each(e,function(e,r){var a=D.adaptingEachOrderCommon(r);t.push(a)}),t}function a(){$("#dashboardDiv").putTemplate("#template-account-info","");var e=$("#dashboardDiv").offset();$("#menuDivDropdown").css("min-height",$(document).innerHeight()-e.top),$.get("currency.html",function(e){$("#currencyPush").append(e)}),$("#currerncyShown").attr("data-option",v),$("#hiddenCurrencyInputId").val(v)}function n(){$("#dashboardDiv").putTemplate("#template-settings-info",""),$("#settingsDiv").outerHeight($("#settingsDiv").height()+60+"px"),b.showSettings()}function i(){var e=h.getBillingInfo();$("#dashboardDiv").putTemplate("#template-billing-and-payment",e);var t=$("#dashboardDiv").offset();$("#menuDivDropdown2").css("min-height",screen.height-t.top),T.generateBillingTable()}function o(){console.log("order");$("#dashboardDiv").putTemplate("#template-order-info",""),$(".orderButtonsContainer a").removeClass("active"),$("#activeOrder").addClass("active"),$(".has-order-table").hide(),$(".active-order-wrapper").show(),y.generateActiveOrderTable(h.getActiveOrderData())}function s(){console.log("scheduled"),$(".orderButtonsContainer a").removeClass("active"),$("#scheduledOrder").addClass("active"),$(".has-order-table").hide(),$(".incomplete-order-wrapper").show(),y.generateFutureOrderTable(h.getFutureOrderData())}function d(){console.log("past order"),$(".orderButtonsContainer a").removeClass("active"),$("#pastOrder").addClass("active"),$(".has-order-table").hide(),$(".completed-order-wrapper").show(),$("#table-past-order").DataTable({paging:!1,ordering:!1,info:!1,searching:!1})}function u(){$("#dashboardDiv").putTemplate("#template-driver-info",""),$(".driverButtonsContainer a").removeClass("active"),$("#driver").addClass("active"),$(".addDriver").show(),$(".exportToExcelDriverPayment").hide(),$(".driver-info-table").hide(),$(".driver-list-wrapper").show(),D.generateDriverView(h.getDriverList())}function c(){$(".driver-info-table").hide(),$(".driver-payment-wrapper").show(),$(".driverButtonsContainer a").removeClass("active"),$("#driverPayment").addClass("active"),$(".addDriver").hide(),$(".exportToExcelDriverPayment").show(),D.generateDriverPaymentView(h.getDriverPaymentList())}function l(){$("#dashboardDiv").putTemplate("#template-dashboard","");var e=$("#dashboardDiv").offset();$("#assigndOrdersDiv").offset();$("#compressed-with-map").putTemplate("#template-map","");var r=t(h.getActiveOrderData());$("#currentOrderContainer").putTemplate("#template-dashboard-orders",r);var a=D.adaptingDashboardDriverData(h.getDriverList());D.loadLeftColumn(a);var n=D.adaptingDashboardOrderData(h.getDriverList());$("#activeOrdersOfCarrierColoumn").putTemplate("#template-dashboard-orders",n);var i=$("body").height(),e=$("#dashboardDiv").offset();console.log("assignedOrder:"+e.top+" div1Height:"+i+" $('.dashboardButtonsContainer').height()"+$(".dashboardButtonsContainer").height()+" dashboard-div:"+$(".dashboard-div").height());var o=$(".dashboardButtonsContainer").height();$("#driverHeader").height(o),$(".dashboardButtonsContainer").height(o+8),$("#compressed-with-map").css("min-height",$(document).outerHeight()-e.top),$("#compressed-with-map").hide(),$(".left-wrapper").removeClass("margin-top-60"),$("#expand-without-map").removeClass("col-sm-6").addClass("col-sm-12")}function m(){console.log("showing map"),$("#dashboardDiv").putTemplate("#template-map","");$("#dashboardDiv").offset();w.initQTMap(40.73061,-73.935242),w.showActorsOnMap(h.getActorPointsData())}function p(){h.getBillingInfo();$("#dashboardDiv").putTemplate("#template-report","");$("#dashboardDiv").offset()}function f(e){switch(e){case"accountInfo":a();break;case"report":p();break;case"settingsInfo":n();break;case"billingInfo":i();break;case"dashboard":l();break;case"map":m();break;case"order":o();break;case"orderScheduled":s();break;case"orderPast":d();break;case"driver":u();break;case"driverPayment":c();break;default:console.log("Set attr: data-arg or href correctly.")}}function g(e){h=e}var h,v="USD",D=e("./driver.view.generator"),b=e("./settings.controller"),T=e("./billing.controller"),y=e("./order.controller"),w=e("./map.controller");e("./dateTimeHelper"),e("./report.controller");r.loadView=f,r.initialize=g}()},{"./billing.controller":2,"./dateTimeHelper":5,"./driver.view.generator":6,"./map.controller":9,"./order.controller":10,"./report.controller":12,"./settings.controller":13}]},{},[1]);