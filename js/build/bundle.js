!function e(t,r,a){function n(i,s){if(!r[i]){if(!t[i]){var d="function"==typeof require&&require;if(!s&&d)return d(i,!0);if(o)return o(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var u=r[i]={exports:{}};t[i][0].call(u.exports,function(e){var r=t[i][1][e];return n(r||e)},u,u.exports,e,t,r,a)}return r[i].exports}for(var o="function"==typeof require&&require,i=0;i<a.length;i++)n(a[i]);return n}({1:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=e("./login.controller"),o=a(n),i=e("./dashboard.loader"),s=a(i);!function(){function t(){this.loginPageContent="views/loginPage.html",this.dashboardContainerContent="views/dbContainer.html"}function r(){window.addEventListener("hashchange",a,!1),n.initialize(i)}function a(){var e=location.hash,t=e.substring(1);t?"dashboard"===t||"map"===t?($("#navbarUnderline").hide(),n.loadView(t)):($("#navbarUnderline").show(),n.loadView(t)):n.loadView("dashboard")}var n=e("./view.loading"),i=e("./data.manager"),d=e("./map.controller"),c=null,u=null;t.prototype.loadLoginPage=function(){$.get(this.loginPageContent,function(e){$("div#contentToPush").html(e),new o.default(u)})},t.prototype.loadDashboardPage=function(){console.log("Loading dashboard page"),$.get(this.dashboardContainerContent,function(e){$("div#contentToPush").html(e),r()}),new s.default(u,c).loadDashboard(),$.get("resources/driverdata.json",function(e){i.setDriverList(e)}),$.get("resources/settingsdata.json",function(e){i.setSettingsData(e)}),$.get("resources/activeorders.json",function(e){i.setActiveOrdersData(e)}),$.get("resources/futureorders.json",function(e){i.setFutureOrdersData(e)}),$.get("resources/driverpayment.json",function(e){i.setDriverPaymentList(e)}),$.get("resources/markerpoints.json",function(e){i.setActorPointsData(e)})},$(document).ready(function(){$(window).resize(function(){}),c=$("body"),u=new t,u.loadLoginPage(),$(document).on("click","[data-toggle='open-new-driver']",function(){$("#modal-New-driver").modal("show")}),$(document).on("click","[data-toggle='driver-profile']",function(){$(this).data("driver-id");$("#modal-driver-profile").modal("show"),$("#modal-driver-profile .show-after-loading").putTemplate("#template-driver-profile","")}),$(document).ready(function(){$(document).on("click","#expand-compress-icon",function(e){e.preventDefault(),$("#compressed-with-map").show(),$("#expand-without-map").removeClass("col-sm-12").addClass("col-sm-6"),d.initQTMap(40.73061,-73.935242),d.showActorsOnMap(i.getActorPointsData())}),$(document).on("change","[name='email-setting']",function(){alert("button change working")}),$(document).on("change","input[type=radio]",function(){alert("button change working")}),$(document).on("click","#locationChange",function(e){e.preventDefault();$("#currencyDiv").hide(),$("#menuDivDropdown").putTemplate("#template-location-change",void 0);var t=$("#dashboardDiv").offset();$("#dashboardDiv").height($(document).innerHeight()-t.top)}),$(document).on("click","#propicChange",function(e){e.preventDefault(),$("#currencyDiv").hide();var t=$(this).attr("value");$("#menuDivDropdown").putTemplate("#template-propic-change",void 0);var r=$("#dashboardDiv").offset();$("#dashboardDiv").height($(document).innerHeight()-r.top),""!==t&&null!==t&&$("#setPicture").attr("src",t)}),$(document).on("click","#passChange",function(e){e.preventDefault(),$("#currencyDiv").hide();$("#menuDivDropdown").putTemplate("#template-password-change",void 0);var t=$("#dashboardDiv").offset();$("#dashboardDiv").height($(document).innerHeight()-t.top)}),$(document).on("click","[data-task='profile']",function(e){e.preventDefault(),n.loadView("accountInfo")})});var e=($(window),$("body"));$(".nav").append('<a href="#" class="close"></a>').appendTo(e).panel({delay:500,hideOnClick:!0,hideOnSwipe:!0,resetScroll:!0,resetForms:!0,side:"right",target:e,visibleClass:"is-menu-visible"})})}()},{"./dashboard.loader":3,"./data.manager":4,"./login.controller":7,"./map.controller":8,"./view.loading":14}],2:[function(e,t,r){"use strict";!function(){function e(){$("#billingTable").DataTable({paging:!1,ordering:!1,info:!1,searching:!1})}r.generateBillingTable=e}()},{}],3:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),o=function(){function e(t,r){a(this,e),this.qtController=t,this.bodyNode=r,this.dashboardContainerContent="views/dbContainer.html",this.contentUris=["views/map.html","views/avatarImageTemplate.html","views/dashboard.html","views/accountInfo.html","views/billingInfo.html","views/driverInfo.html","views/settingsInfo.html","views/report.html","views/order.html","views/propicChange.html","views/passwordChange.html","views/locationChange.html","views/orderItemRow.html","views/orderDetail.html","views/dashboardOrderRow.html"]}return n(e,[{key:"loadDashboard",value:function(){var e=this;this.contentUris.forEach(function(t){return e.fetchAndAppendContent(t)})}},{key:"fetchAndAppendContent",value:function(e){var t=this;$.get(e,function(e){return t.bodyNode.append(e)})}}]),e}();r.default=o},{}],4:[function(e,t,r){"use strict";!function(){function e(){return w}function t(){return I}function a(e){h=e}function n(){return h}function o(e){v=e}function i(){return v}function s(){return $}function d(e){D=e}function c(){return D}function u(e){b=e}function l(){return b}function m(e){T=e}function p(){return T}function g(e){y=e}function f(){return y}var h,v,D,b,T,y,w={companyId:4,areaId:6,billingInfos:[{id:0,startDate:"2016-09-01",endDate:"2016-09-30",numberOfOrders:1,totalAmount:0,paid:!1},{id:0,startDate:"2016-05-01",endDate:"2016-05-31",numberOfOrders:1,totalAmount:0,paid:!1}]},$={success:!0,graph_data:{"Moin Islam":19.97,rumana:7.99,"S Ahmed Sam":0,Charmi:0},start_date:"2017-03-20T08:00:00.000Z",end_date:"2017-03-21T08:00:00.000Z"},I={success:"true",orders:[{order_id:"62573",order_number:"987989",customer_name:"Amit Biswas",customer_address:"Delhi, India",customer_formatted_address:"Delhi, India",customer_phone:"435435",delivery_latitude:"28.7040592",delivery_longitude:"77.10249019999999",resturant_name:"Questtag Cafe",resturant_address:"Houston, TX, United States",resturant_formatted_address:"Houston, TX, USA",resturant_phone:"222222",carrier_name:"Not assigned",carrier_phone:"Not assigned",carrier_image_path:"Not assigned",accepted:"false",pickup_latitude:"29.7604267",pickup_longitude:"-95.3698028",distance_between_pickup_delivery:"8366.905008223539",driving_time_between_pickup_delivery:"1923599.2722763529",placement_time:"2017-03-12 07:57:09",expected_delivery_date:"2017-03-12",expected_pickup_time:"08:22:00",expected_delivery_time:"08:52:00",order_item:"[{name:kjhkjjhk,quantity:1,unitPrice:7}]",order_items:[{id:178322,name:"kjhkjjhk",detail:"",quantity:1,unit_price:7,add_ons_json:null}],assigned_carrier_id:"-1",assaigned_time:"null",start_time:"null",pickup_time:"null",arrived_time:"null",delivery_time:"null",signature_path:"",signature_location_latitude:"null",signature_location_longitude:"null",feedback:"null",total_cost:"7.49",delivery_fee:"-1.00",tip:"-1.00",cash_tip:"0.00",discount_amount:"-1.00",tax:"0.49",order_source:"NOT PROVIDED",delivery_instruction:"kjhkjhkj",payment_type:"N/A",credit_card_type:"N/A",credit_card_id:"null",incomplete:"false",scheduled:"true",parent_id:"0",dispatcher_note:"null",orderStatus:"NOT_ASSIGNED",is_force_completed:"false",rejected_carriers:[],order_image:"null",order_thumb_image:"null"}]};r.getBillingInfo=e,r.setDriverList=a,r.getDriverList=n,r.setDriverPaymentList=o,r.getDriverPaymentList=i,r.getSettingsData=c,r.setSettingsData=d,r.setActiveOrdersData=u,r.getActiveOrdersData=l,r.setFutureOrdersData=m,r.getFutureOrdersData=p,r.setActorPointsData=g,r.getActorPointsData=f,r.getOrderDetailsData=t,r.getDriverPaymentReportData=s}()},{}],5:[function(e,t,r){"use strict";!function(){function e(e){return w(e)+"&nbsp;   "+D(e)}function t(){var e=new Date,t=e.getDate(),r=e.getMonth()+1;return r=r<10?"0"+r:r,t=t<10?"0"+t:t,e.getFullYear()+"-"+r+"-"+t}function a(e,t){return new Date(e.getTime()+6e4*t)}function n(e){var t,r=e.getHours(),a=e.getMinutes();return r>12?(r-=12,t="PM"):t=12===r?"PM":"AM",r=r<10?"0"+r:r,a=a<10?"0"+a:a,r+":"+a+" "+t}function o(e){return n(a(new Date,e))}function i(e){var t=e.getFullYear(),r=e.getDate(),a=e.getMonth()+1;return r=r<10?"0"+r:r,T(a)+" "+r+", "+t}function s(){return i(new Date)}function d(){var e=new Date;return e.setDate(e.getDate()+1),i(e)}function c(){var e=new Date;return e.setDate(e.getDate()-1),i(e)}function u(){var e=new Date,t=[],r=e.getDay(),a=r,n=new Date;return n.setDate(e.getDate()-a),t[0]=i(n),n=new Date,n.setDate(e.getDate()-a+6),t[1]=i(n),t}function l(){var e=new Date;e.setDate(1);var t=new Date;return t.setMonth(t.getMonth()+1),t.setDate(0),[i(e),i(t)]}function m(){for(var e=new Date,t="",r=e.getDay(),a=r,n=0;n<=6;n++){var o=new Date;o.setDate(o.getDate()+(n-a)),t+=i(o)+"|"}return t=t.substr(0,t.length-1)}function p(e){var t=e.year,r=e.monthOfYear,a=e.dayOfMonth,n=e.hourOfDay,o=e.minuteOfHour,i=e.secondOfMinute;return r<10&&(r="0"+r),a<10&&(a="0"+a),n<10&&(n="0"+n),o<10&&(o="0"+o),i<10&&(i="0"+i),t+"-"+r+"-"+a+" "+n+":"+o+":"+i}function g(e){var t;if(e.indexOf("T")>0)t=new Date(e);else{var r=e.replace(/-/g,"/");r+=" UTC",t=new Date(r)}return t}function f(e,t){return g(e+" "+t)}function h(e,t){var r=f(e,t).getTime()+3e5;return!((new Date).getTime()>r)}function v(e,t,r){var a=f(e,t).getTime(),n=(new Date).getTime();return r=12e5,!(n+3e5+r>a)}function D(e){var t,r,a=e.getHours(),n=e.getMinutes();return r=a>=12?H:B,t=a%12,0===t&&(t=12),n<10&&(n="0"+n),t+":"+n+" "+r}function b(e){var t=e.getHours(),r=e.getMinutes();return r<10&&(r="0"+r),t+":"+r}function T(e){switch(e){case 1:return"Jan";case 2:return"Feb";case 3:return"Mar";case 4:return"Apr";case 5:return"May";case 6:return"Jun";case 7:return"Jul";case 8:return"Aug";case 9:return"Sep";case 10:return"Oct";case 11:return"Nov";case 12:return"Dec"}}function y(e){var t=e.getFullYear(),r=e.getMonth()+1,a=e.getDate(),n=T(r);return a<10&&(a="0"+a),n+" "+a+", "+t}function w(e){var t=e.getMonth()+1,r=e.getDate(),a=T(t);return r<10&&(r="0"+r),a+" "+r+","}function $(e){var t=e.getFullYear(),r=e.getMonth()+1,a=e.getDate(),n=e.getHours(),o=e.getMinutes(),i=e.getSeconds();return r<10&&(r="0"+r),a<10&&(a="0"+a),n<10&&(n="0"+n),o<10&&(o="0"+o),i<10&&(i="0"+i),a+"-"+r+"-"+t+" "+n+":"+o+":"+i}function I(e,t){return t.getTime()-e.getTime()}function O(e){return Math.round(e/R)}function _(e){return I(g(e),new Date)}function C(e,t){return I(g(e),g(t))}function k(e){var t=parseInt(e.substring(0,e.indexOf(":")));return e.indexOf("PM")>0?12!==t?t+12+":"+e.substring(e.indexOf(":")+1,e.indexOf("P")-1)+":00":t+":"+e.substring(e.indexOf(":")+1,e.indexOf("P")-1)+":00":12!==t?t<10?"0"+t+":"+e.substring(e.indexOf(":")+1,e.indexOf("A")-1)+":00":t+":"+e.substring(e.indexOf(":")+1,e.indexOf("A")-1)+":00":"00:"+e.substring(e.indexOf(":")+1,e.indexOf("A")-1)+":00"}function A(e){var t=new Date(e);return new Date(t.getTime()+6e4*(new Date).getTimezoneOffset()).toUTCString()}function S(e){switch(e){case"Jan":return 1;case"Feb":return 2;case"Mar":return 3;case"Apr":return 4;case"May":return 5;case"Jun":return 6;case"Jul":return 7;case"Aug":return 8;case"Sep":return 9;case"Oct":return 10;case"Nov":return 11;case"Dec":return 12}}function E(e){var t,r=e.substring(4,6),a=e.substring(0,3),n=e.substring(8),o=S(a);return t=o<10?"0"+o:o,n+"-"+t+"-"+r}function N(e){var t,r=e.substring(5,7),a=e.substring(8,11),n=e.substring(12),o=S(a);return t=o<10?"0"+o:o,n+"-"+t+"-"+r}function x(){var e=(new Date).getTimezoneOffset();return e<0?"+"+P(-1*e*60):"-"+P(60*e)}function P(e){var t=Math.floor(e/3600),r=e%3600,a=Math.floor(r/60),n=r%60,o=Math.ceil(n);return t<10&&(t="0"+t),a<10&&(a="0"+a),o<10&&(o="0"+o),t+":"+a+":"+o}function F(e){return y(e)+"&nbsp;&nbsp;   "+D(e)}function L(e,t){var r;r=e>t?e-t:t-e;var a={year:0,month:0,day:0,hour:0,minute:0,second:0};for(var n in a)a.hasOwnProperty(n)&&(a[n]=Math.floor(r/j[n]),r-=a[n]*j[n]);return a}function M(e){var t=e.split(/[\/\-\.\T]/,3);return T(parseInt(t[1]))+" "+t[2]+", "+t[0]}var R=6e4,B="a.m.",H="p.m.",j={year:0,month:0,day:0,hour:0,minute:0,second:0};j.second=1e3,j.minute=60*j.second,j.hour=60*j.minute,j.day=24*j.hour,j.month=30*j.day,j.year=365*j.day,r.pickupTimeOk=h,r.getTimeHourMinute=n,r.getDateForTableFilterToday=s,r.getDateForTableFilterTomorrow=d,r.getDateForTableFilterYesterday=c,r.getThisWeekRange=u,r.getTodayYearMonthData=t,r.getThisMonthRange=l,r.getDateForTableFilterThisWeek=m,r.getTimeForTimePicker=o,r.getReadableFormatFromDateTime=$,r.extractDateTimeFrom=p,r.deliveryTimeOk=v,r.getTimeFromDateTimeWithoutPeriod=b,r.getDeliveryTime=C,r.covertTo24HourFormat=k,r.convertToUTCDateTime=A,r.HReadableToSqlFormat=E,r.convertToSqlDateFormat=N,r.getBrowserTimeZoneOffset=x,r.getHourMinuteSecondFromSeconds=P,r.getDateAndTimeFromDateTime=F,r.getDateFromDateTime=y,r.dateDiff=L,r.getMonthDateYearWithoutDateFunc=M,r.getMonthDateFromDateTime=w,r.getDateForTableFilterMonthDateYear=i,r.convertDateTimeToJsDate=f,r.formatTimeInDashbord=e,r.getDuration=I,r.getElapsedTime=_,r.convertToBrowsersDateTime=g,r.getMonthDateYearWithoutDateFunc=M,r.getMonthDateYearWithoutDateFunc=M,r.getTimeFromDateTime=D,r.convertMilisecondsToMinutes=O,r.getMonthFromNumber=T,r.getMonthNumber=S,r.addMinutes=a}()},{}],6:[function(e,t,r){"use strict";!function(){function t(e){var t=[];return $.each(e,function(e,r){t.push({driverId:r.id,driverName:r.name,orderNo:r.numberOfAssignedOrders,raw:r})}),t}function a(e){var t=[];return $.each(e,function(e,r){$.each(r.assignedOrders,function(e,r){t.push(n(r))})}),console.log("returning orderdata"+t),t}function n(e){var t=y.convertToBrowsersDateTime(e.orderDateTimeInfo.placementTime),r=y.formatTimeInDashbord(t),a=s(e.previouslyAssignedCarriers),n=null===e.assignedCarrier?null:e.assignedCarrier.id,i=I.isAfterPickedUp(e.orderStatus),d=e.costInfo.cashTip;return{driverId:n,orderId:e.id,orderNumber:e.orderNumber,time:t,formatedTime:r,fromName:e.restaurant.name,fromAddress:o(e.restaurant.address),toName:e.customer.name,toAddress:o(e.customer.address),rejectedCarriers:a.rejectedCarriers,noResponseCarriers:a.noResponseCarriers,carrier_name:e.assignedCarrier,totalCost:-1===e.costInfo.totalCost?"N/A":e.costInfo.totalCost,totalTip:-1===e.costInfo.predefinedTip?"N/A":e.costInfo.predefinedTip+d,alert:I.alertOrder(e),accepted:e.accepted,status:e.orderStatus,prettyStatus:I.adaptOrderStatusData(e.orderStatus),autoAssignmentStatus:e.autoAssignmentStatus,afterPickedUp:i,scheduled:e.scheduled,parentId:e.parentId}}function o(e){var t="",r=e.split(",");if(r.length<3)return e;for(var a=0;a<r.length-2;a++)t+=r[a]+",";return t=t.substr(0,t.length-1)}function i(e){var t=[],r=[];return $.each(e,function(e,a){var n,o,i,s,d,u,l,m;n=a.name;var p,g="<div style='padding-left: 20%'><input type='number' id='adjustmentInput' carrierId='"+a.carrierId+"'  value='"+a.existingAdjustment+"' prevAdjust='"+a.existingAdjustment+"'  style='width:100px;'> </div>";p="";var f="<a href='javascript:void(0)' class='' data-toggle='driver-profile' data-driver-id='"+a.id+"'>"+p+n+"</a>";a.onDuty?(o="<a href='tel:"+T.correctPhoneFormat(a.phoneNumber)+"'>"+T.correctPhoneFormat(a.phoneNumber)+"</a>",i=a.completedDeliveries,s=T.adaptOrderCostInput(a.deliveryFees),d=T.adaptOrderCostInput(a.onlineTips),u=T.adaptOrderCostInput(a.tipsAnddeliveryFees),l=g,m=a.totalEarning):(o="<a href='tel:"+T.correctPhoneFormat(a.phoneNumber)+"'>"+c(T.correctPhoneFormat(a.phoneNumber))+"</a>",i=a.completedDeliveries,s=c(T.adaptOrderCostInput(a.deliveryFees)),d=c(T.adaptOrderCostInput(a.onlineTips)),u=c(T.adaptOrderCostInput(a.tipsAnddeliveryFees)),l=g,m=c(T.adaptOrderCostInput(a.totalEarning)));var h=[f,o,i,s,d,u,l,m];a.onDuty?t.push(h):r.push(h)}),t.concat(r)}function s(e){var t=[],r=[];return $.each(e,function(e,a){"TIMED_OUT"===a.cause?-1===$.inArray(a.name,t)&&t.push(a.name):-1===$.inArray(a.name,r)&&r.push(a.name)}),{noResponseCarriers:t,rejectedCarriers:r}}function d(e){var t=[],r=[];return $.each(e,function(e,a){var n,o,i,s,d,f,h=u(a),v=l(a);a.status?(n=v,f=a.email,o="On Duty",i="<span>"+g(a.vehicle.type)+"</span>",s=a.phoneNumber,d=m(a)):(n=c(v),f=c(a.email),o=c("Off Duty"),i=c(g(a.vehicle.type)),s="<a href='tel:"+a.phoneNumber+"</a>",d=p(a));var D=[h,s,f,n,i,o,d];a.status?t.push(D):r.push(D)}),t.concat(r)}function c(e){return"<span style='color: #9da3b3'>"+e+"</span>"}function u(e){return"<a href='javascript:void(0)' class='' data-toggle='driver-profile' data-driver-id='"+e.id+"'>"+e.name+"</a>"}function l(e){return e.personalId?e.personalId:"N/A"}function m(e){return"<a href='javascript:void(0)' class='btn btn-sm btn-questtag btn-block small-text-special' data-task='carrier-end-shift' data-refid='"+e.shiftId+"'>End shift</a>"}function p(e){return"<a href='javascript:void(0)'class='btn btn-sm btn-questtag btn-block small-text-special' data-task='carrier-end-shift' data-refid='"+e.shiftId+"' disabled>End shift </a>"}function g(e){var t='<span class="fa ',r='"></span>';return"CAR"===e?t+"fa-car"+r:"BICYCLE"===e?t+"fa-bicycle"+r:"MOTORCYCLE"===e?t+"fa-motorcycle"+r:"MOTORBIKE"===e?t+"fa-motorcycle"+r:void 0}function f(e){var t=d(e);$("#table_id_carrier").DataTable({bFilter:!1,paging:!1,info:!1,order:[[5,"desc"]],data:t,aoColumns:[{bSortable:!1,className:"nowrap"},{bSortable:!1},{bSortable:!1},{bSortable:!1},{bSortable:!1},{bSortable:!1},{bSortable:!1}]})}function h(e){var t=i(e);$("#table_driver_payment").DataTable({bFilter:!1,paging:!1,order:[[7,"desc"]],info:!1,data:t,aoColumns:[{bSortable:!1,className:"nowrap"},{bSortable:!1},{bSortable:!1,className:"text-center"},{bSortable:!1},{bSortable:!1},{bSortable:!1},{bSortable:!1},{bSortable:!1}]})}function v(e){var t,r=null;if(null===(r=null!==e.thumbnailImagePath?e.thumbnailImagePath:null!==e.imagePath?e.imagePath:null))t=$("#template-avatar-lg-custom").templateify({name:w.makeNameSmaller(e.name),bg_color:e.status?null:"#888"});else{var a=r.split("//"),n="";n=void 0===a[1]?"http://qt.com.dashboard.order.item.s3.amazonaws.com/94e4d44a807d4978af82a68d0ade9d5f.jpg":"http://"+a[1],t=$("#image-avatar").templateify({image:n,large:!0,blackAndWhite:!e.status})}return t}function D(e,t,r,a){var n,o,i=a;n=v(i),o="<span>"+w.treatCarrierName(i.name)+"</span>";var s="";i.status&&(s="text-color-black");var d=T.createDiv("each-row driver-column-margin "+s,"",{"data-task":"showHide","data-hide":"#activeOrdersOfCarrierColoumn .each-row","data-show":"[data-driverid='"+e+"']","data-callback":"leftColumnButtonClick","data-argument":"this","data-driverid":e}),c=n+" "+o+" - <strong>"+r+"</strong>";return d.innerHTML=c,d}function b(e){$("#carriersColumn").html(" ");var t=0;$.each(e,function(e,r){var a=D(r.driverId,r.driverName,r.orderNo,r.raw);!1!==a&&($("#carriersColumn").append(a),t++)}),t>0?$("#no-driver-msg2").hide():$("#no-driver-msg2").show()}var T=e("./utility"),y=e("./dateTimeHelper"),w=e("./processImageAndName"),I=e("./order.controller");r.generateDriverView=f,r.generateDriverPaymentView=h,r.formatCarriers=s,r.adaptingDashboardDriverData=t,r.adaptDriverImageData=v,r.loadLeftColumn=b,r.adaptingDashboardOrderData=a,r.adaptingEachOrderCommon=n}()},{"./dateTimeHelper":5,"./order.controller":9,"./processImageAndName":10,"./utility":13}],7:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),o=function(){function e(t){a(this,e),this.qtController=t,this.formId="qtLoginForm",this.emailInputField="lgEmail",this.passwordInputField="lgPassword",this.loginForm=null,this.emailInput=null,this.passwordInput=null,this.initialize()}return n(e,[{key:"initialize",value:function(){var e=this;this.loginForm=document.getElementById(this.formId),this.emailInput=document.getElementById(this.emailInputField),this.passwordInput=document.getElementById(this.passwordInputField),this.loginForm.addEventListener("submit",function(t){return e.submitLoginForm(t)})}},{key:"submitLoginForm",value:function(e){e.preventDefault();var t=this.emailInput.value,r=this.passwordInput.value;console.log(t+" : "+r),this.qtController.loadDashboardPage()}}]),e}();r.default=o},{}],8:[function(e,t,r){"use strict";!function(){function t(e,t){console.log("in map function"),j[R]={},j[B]={},j[H]={},P=e,F=t;var r=new google.maps.LatLng(P,F),a={center:r,zoom:12,disableDefaultUI:!0,styles:S(),disableDoubleClickZoom:!0};M=new google.maps.Map(document.getElementById(L),a)}function a(e){i(e),o()}function n(e,t,r){t.lat=t.latitude,t.lng=t.longitude,k(e,t),O(e,t,r),_(e,t.id),A(e,t)}function o(){s(Y),c(V),d(U)}function i(e){return"true"===e.success&&(Y=e.carrier_actors,U=e.customer_actors,V=e.restaurant_actors,!0)}function s(e){for(var t in e)e.hasOwnProperty(t)&&l(e[t])}function d(e){for(var t in e)e.hasOwnProperty(t)&&p(e[t])}function c(e){for(var t in e)e.hasOwnProperty(t)&&u(e[t])}function u(e){console.log("showing restaurant marker"),e.type=H,e.toolTip=!0,null!==e.icon&&void 0!==e.icon||(e.icon=q);e.iconContent=m({name:e.numberOfOrder,opacity:1,css:"marker-restaurant",info:e});var t=w(e);n(H,e,t)}function l(e){console.log("showing carrier marker"),e.type=R;null!==e.icon&&void 0!==e.icon||(e.waiting="Waiting"===e.status,e.shortName=E.makeNameSmaller(e.name),e.iconContent=Handlebars.compileFromSource($("#template-carrier-marker").html(),e));var t=I(e);n(R,e,t)}function m(e){return Handlebars.compile($("#template-restaurant-marker").html())(e)}function p(e){console.log("showing customer marker"),e.type=B,console.log(JSON.stringify(e)),console.log("html "+$("#template-customer-popover").html()),null!==e.icon&&void 0!==e.icon||(e.icon=G,console.log("1"));var t="marker-customer-assigned";e.assigned=!0,"NOT_ASSIGNED"!==e.orderStatus&&"NOT_STARTED_YET"!==e.orderStatus||e.scheduled?"NOT_ASSIGNED"!==e.orderStatus&&"NOT_STARTED_YET"!==e.orderStatus||!e.scheduled?"NOT_ASSIGNED"===e.orderStatus&&"NOT_STARTED_YET"===e.orderStatus||!e.scheduled||(t="marker-customer-assigned-scheduled"):t="marker-customer-scheduled":(e.assigned=!1,t="marker-customer"),console.log("2");var r=x.convertMilisecondsToMinutes(x.getElapsedTime(e.orderPlacementTime));console.log("3"),r>90?r="90+":r+=" <small>m</small>",console.log("4");var a=x.convertToBrowsersDateTime(e.expectedDeliveryDate+" "+e.expectedDeliveryTime);console.log("5"),!0===e.scheduled&&(r=x.getTimeFromDateTimeWithoutPeriod(a),t+=" customer-border"),console.log("6"),e.iconContent=E.getAvatarImageFromName({name:r,opacity:1,css:t,info:e}),console.log("7"),e.afterPickedUp=N.isAfterPickedUp(e.orderStatus),e.accepted=N.getStatusStage(e.orderStatus)>1;var o=Handlebars.compileFromSource($("#template-customer-popover").html(),e);n(B,e,o)}function g(){M.setZoom(M.getZoom()+1)}function f(){M.setZoom(M.getZoom()-1)}function h(e,t){return'<h3 class="popover-title background-color-black-alfa padding-left-2 padding-right-2"><span id="top-left" class="pull-left">'+e+'</span><span id="top-right" class="pull-right padding-right-5" style="font-size:12px; line-height:16px; font-style:italic;">'+t+"</span><span>&nbsp;</span></h3>"}function v(e){return'<div class="restaurant_div">\n <p class="left-icon-keeper background-restaurant" id="restaurant-info">'+e+"</p>\n</div>"}function D(e){return'<div class="carrier_div for-top-border-position">\n <div class="bottom-border-white-A8A9AD margin-left-25"></div>\n                                    <p class="left-icon-keeper background_car" id="carrier-info">'+e+"</p>\n                                </div>"}function b(e){var t={name:"",status:"",getRestaurant:"",getCustomer:"",getCarrier:""};t.name=e.name;var r=e.name;return void 0!==e.destinationAddress&&(r=t.name+"<br>"+e.destinationAddress),t.status=void 0!==e.status?e.status:"",t.getCarrier=D(r),t}function T(e){var t={name:"",status:"",getRestaurant:"",getCustomer:"",getCarrier:""};t.name=e.name,t.status=e.numberOfOrder;var r=e.name+"<br>"+e.address;return t.getRestaurant=v(r),t}function y(e){return'<div class="popover top background-color-black-alfa text-color-E2E2E4-white position-relative radius-0" style="display:block; z-index:-1;width:215px;">\n<div class="arrow" style="border-top-color:rgba(0,0,0,.75);"></div>\n'+h(e.name,e.status)+'<div class="popover-content padding-left-2 padding-right-2">\n'+e.getCustomer+"\n "+e.getRestaurant+"\n "+e.getCarrier+"</div>\n</div>"}function w(e){var t;return t=T(e),y(t)}function I(e){var t;return t=b(e),y(t)}function O(e,t,r){var a=t.id,n={content:r,disableAutoPan:!1,maxWidth:0,alignBottom:!0,pixelOffset:new google.maps.Size(-105,-40),zIndex:null,boxStyle:{opacity:.75,width:"210px"},closeBoxMargin:"2px 2px 2px 2px",closeBoxURL:z,infoBoxClearance:new google.maps.Size(1,1),isHidden:!1,pane:"floatPane",enableEventPropagation:!1};j[e][a].infoBox={},j[e][a].infoBox=new InfoBox,j[e][a].infoBox.setOptions(n)}function _(e,t){google.maps.event.addListener(j[e][t].marker,"click",function(){C(e,t)}),google.maps.event.addListener(j[e][t].infoBox,"closeclick",function(){})}function C(e,t){var r=j;for(var a in r[e])r[e].hasOwnProperty(a)&&r[e][a].infoBox.close();e!==H&&r[e][t].infoBox.open(M,r[e][t].marker)}function k(e,t){void 0===j[e][t.id]&&(j[e][t.id]=[]);var r={map:M,position:new google.maps.LatLng(t.lat,t.lng),anchor:RichMarkerPosition.MIDDLE,flat:!0,content:t.iconContent,optimized:!1};e===R&&(r.zIndex=99999999);var a=new RichMarker(r);j[e][t.id].marker=a}function A(e,t){j[e][t.id].info=t}function S(){return[W,Z,K,J,Q,X,ee,te]}var E=e("./processImageAndName"),N=e("./order.controller"),x=e("./dateTimeHelper"),P=0,F=0,L="map_div",M=null,R="carriers",B="customers",H="restaurants",j={},Y=[],U=[],V=[],z=($("#template-carrier-marker").html(),"imgs/close.png"),q="imgs/map/restaurant.png",G="imgs/map/home.png",W={featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},Z={featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},K={featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},J={featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},Q={featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},X={featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},ee={featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},te={featureType:"water",elementType:"all",stylers:[{color:"#46bcec"},{visibility:"on"}]};$(document).ready(function(){$(document).on("click","#mapZoomIn",function(e){e.preventDefault(),g()}),$(document).on("click","#mapZoomOut",function(){f()})}),r.initQTMap=t,r.showActorsOnMap=a}()},{"./dateTimeHelper":5,"./order.controller":9,"./processImageAndName":10}],9:[function(e,t,r){"use strict";!function(){function t(e){var t=[];return $.each(e,function(e,r){var a,n,o,i=g(r.orderStatus),u=p(r);"PICKUP_ALERT"===u&&"NOT_ASSIGNED"!==r.orderStatus?i="<span class='text-color-orange' >"+i+"</span>":"DELIVERY_ALERT"===u&&"NOT_ASSIGNED"!==r.orderStatus?i="<span class='text-color-brick-red'>"+i+"</span>":"NOT_ASSIGNED"===r.orderStatus&&(i="<div class='set_middle'><a href='javascript:void(0)' class='btn btn-questtag btn-sm small-text3' style='display: block' title='Assign Order' data-task='assignment' data-refid='"+r.id+"'>"+i+"</a></div>"),a=w.getTimeFromDateTime(w.convertToBrowsersDateTime(r.orderDateTimeInfo.placementTime)),n=w.convertMilisecondsToMinutes(w.getElapsedTime(r.orderDateTimeInfo.placementTime));var f=w.convertToBrowsersDateTime(r.orderDateTimeInfo.expectedDeliveryDate+" "+r.orderDateTimeInfo.expectedDeliveryTime);o=w.getTimeFromDateTime(f);var h,v=parseFloat(r.distanceBetweenPickUpAndDeliveryLocation).toFixed(2),D=m(v),b=d(n),T=c(r.costInfo.totalCost);h=r.scheduled?'<span><i class="fa fa-clock-o" aria-hidden="true"></i> '+r.orderNumber+"</span>":r.parentId>0?'<span><img width="14" height="14" alt="" src="imgs/redrop.png"> '+r.orderNumber+"</span>":r.orderNumber;var y=[h,r.customer.name,r.restaurant.name,T,v+" "+D,a,o,n+" "+b,s(r.assignedCarrier),i,l(r.id)];t.push(y)}),t}function a(e){return-1!==$.inArray(e.orderStatus,_)&&!1===w.pickupTimeOk(e.orderDateTimeInfo.expectedDeliveryDate,e.orderDateTimeInfo.expectedPickUpTime)?"PICKUP_ALERT":"PICKED_UP"===e.orderStatus&&!1===w.deliveryTimeOk(e.orderDateTimeInfo.expectedDeliveryDate,e.orderDateTimeInfo.expectedDeliveryTime)&&"DELIVERY_ALERT"}function n(e){$("#orderDetailsView").modal("show");var t=O.getOrderDetailsData(),r=o(t);$("#orderDetailsView .main-content").putTemplate("#template-order-detail",r),$("#orderDetailsView .show-before-loading").hide(),$("#orderDetailsView .show-after-loading").show(),"ALREADY_DELIVERED"!==r.orderStatus?($("#orderDetailsView .deleteButton").attr("data-delete",r.order_id),$("#orderDetailsView .deleteButton").show(),$("#orderDetailsView .forceOrderComplete").show()):($("#orderDetailsView .deleteButton").hide(),$("#orderDetailsView .forceOrderComplete").hide())}function o(e){var t=e.orders[0];if(t.signature_path){var r=t.signature_path.split("//");t.signature_path="http://"+r[1]}return t}function i(e){var t=[];return $.each(e,function(e,r){var a,n,o,i=g(r.orderStatus),u=p(r);"PICKUP_ALERT"===u&&"NOT_ASSIGNED"!==r.orderStatus?i="<span class='text-color-orange' >"+i+"</span>":"DELIVERY_ALERT"===u&&"NOT_ASSIGNED"!==r.orderStatus?i="<span class='text-color-brick-red'>"+i+"</span>":"NOT_ASSIGNED"===r.orderStatus&&(i="<div class='set_middle'><a href='javascript:void(0)' class='btn btn-questtag btn-sm small-text3' style='display: block' title='Assign Order' data-task='assignment' data-refid='"+r.id+"'>"+i+"</a></div>"),a=w.getTimeFromDateTime(w.convertToBrowsersDateTime(r.orderDateTimeInfo.placementTime)),n=w.convertMilisecondsToMinutes(w.getElapsedTime(r.orderDateTimeInfo.placementTime));var f=w.convertToBrowsersDateTime(r.orderDateTimeInfo.expectedDeliveryDate+" "+r.orderDateTimeInfo.expectedDeliveryTime);o=w.getTimeFromDateTime(f);var h,v=parseFloat(r.distanceBetweenPickUpAndDeliveryLocation).toFixed(2),D=m(v),b=d(n),T=c(r.costInfo.totalCost);h=r.scheduled?'<span><i class="fa fa-clock-o" aria-hidden="true"></i> '+r.orderNumber+"</span>":r.parentId>0?'<span><img width="14" height="14" alt="" src="imgs/redrop.png"> '+r.orderNumber+"</span>":r.orderNumber;var y=[h,r.customer.name,r.restaurant.name,T,v+" "+D,a,o,n+" "+b,s(r.assignedCarrier),i,l(r.id)];t.push(y)}),t}function s(e){return null===e?"<p style='text-align:center' >_ _</p>":I.lastNameOneCharacter(e.name)}function d(e){return e<=1?"min.":""}function c(e){return u(e)}function u(e){return e<0?"N/A":"$"+(e=parseFloat(e).toFixed(2))}function l(e){return'<div class="set_middle"><a href="javascript:void(0)" class="btn btn-questtag btn-sm small-text3" style="display: block" data-task="viewOrder" data-orderId="'+e+'">View</a></div>'}function m(e){return e<=1?"mile":"miles"}function p(e){return-1!==$.inArray(e.orderStatus,_)&&!1===w.pickupTimeOk(e.orderDateTimeInfo.expectedDeliveryDate,e.orderDateTimeInfo.expectedPickUpTime)?"PICKUP_ALERT":"PICKED_UP"===e.orderStatus&&!1===w.deliveryTimeOk(e.orderDateTimeInfo.expectedDeliveryDate,e.orderDateTimeInfo.expectedDeliveryTime)&&"DELIVERY_ALERT"}function g(e){var t=null;switch(e){case"NOT_ASSIGNED":t="Unassigned";break;case"NOT_ACCEPTED":t="Waiting";break;case"NOT_STARTED_YET":t="Not started";break;case"STARTED":t="Started";break;case"PICKED_UP":t="Picked Up";break;case"READY_TO_DELIVER":t="At the Door";break
;case"ALREADY_DELIVERED":t="Delivered";break;case"INCOMPLETE":t="Incomplete"}return t}function f(e){return $.inArray(e,C)}function h(e){return-1===$.inArray(e,_)}function v(){var e=$("#newOrderForm [data-order-item]").last().attr("data-order-item");void 0===e&&(e=0);var t=Number(e)+1;return $("#template-order-item-row").templateify({number:t})}function D(e){$("#new-order-items").append(e)}function b(){D(v())}function T(e){var r=t(e);$("#table-active-order").DataTable({data:r,paging:!1,ordering:!1,info:!1,searching:!1})}function y(e){var t=i(e);$("#table-scheduled-order").DataTable({data:t,paging:!1,ordering:!1,info:!1,searching:!1,destroy:!0})}var w=e("./dateTimeHelper"),I=e("./utility"),O=e("./data.manager"),_=["NOT_ASSIGNED","NOT_ACCEPTED","NOT_STARTED_YET","STARTED"],C=[];C[0]="NOT_ASSIGNED",C[1]="NOT_ACCEPTED",C[2]="NOT_STARTED_YET",C[3]="STARTED",C[4]="PICKED_UP",C[5]="READY_TO_DELIVER",C[6]="ALREADY_DELIVERED",$(document).ready(function(){$(document).on("click","[data-task='assignment']",function(){$(this).attr("data-refId"),$(this).data("assigned");$("#assign_order").modal("show")}),$(document).on("click",'[data-task="unassign-order"]',function(){$(this).data("orderId")}),$(document).on("click",'[data-task="carrier-end-shift"]',function(){$(this).attr("data-refId")}),$(document).on("click",'[data-task="unassign-order-not-accepted"]',function(){}),$(document).on("click","#addNewItemRow",function(e){e.preventDefault(),b()}),$(document).on("click","[data-toggle='delete-element']",function(){var e=$(this).attr("data-select");$(e).remove()}),$(document).on("focus","#myModal_new_order [data-order-item]:last",function(){b()}),$(document).on("click","[data-task='viewOrder']",function(){n($(this).attr("data-orderId"))})}),r.getStatusStage=f,r.isAfterPickedUp=h,r.generateActiveOrderTable=T,r.generateFutureOrderTable=y,r.alertOrder=a,r.adaptOrderStatusData=g}()},{"./data.manager":4,"./dateTimeHelper":5,"./utility":13}],10:[function(e,t,r){"use strict";!function(){function e(e){var t=!0===e.big?$("#template-avatar-lg").html():$("#template-avatar").html();return void 0!==e.opacity&&null!==e.opacity||(e.opacity=1),Handlebars.compile(t)({name:e.name,opacity:e.opacity,bgColor:e.bgColor,info:e.info,css:e.css})}function t(e){return"Not Assigned"===e.trim()?e:a(e)}function a(e){var t="",r=e.split(" ");return r.length>1?(t+=r[0]+" ",t+=r[r.length-1].substring(0,1)+"."):t=e,t}function n(e){var t="",r=e.split(" ");return r.length>1?(t+=r[0].substring(0,1),t+=r[r.length-1].substring(0,1)):t=e.substring(0,2),t}function o(t){return e({name:n(t.name),big:!0})}function i(t){return e({name:n(t.name),opacity:t.opacity,bgColor:t.bgCOlor,css:t.css})}function s(e){var t=d,r=Handlebars.compile(t);return void 0!==e.opacity&&null!==e.opacity||(e.opacity=1),r({image:e.image,opacity:e.opacity,cornerCircle:e.cornerCircle})}var d;$("#template-avatar").html(),d=$("#image-avatar").html(),$("#template-avatar-lg").html(),r.makeNameSmaller=n,r.getAvatarImageFromFullNameLg=o,r.getAvatarImageFromFullName=i,r.AvatarImageFromImage=s,r.getAvatarImageFromName=e,r.treatCarrierName=t}()},{}],11:[function(e,t,r){"use strict";!function(){function t(){var e="driver-payment";i(e),a({type:e,option:"THIS_WEEK"})}function a(e){s(e.graph_data);var t;t=c.getMonthDateYearWithoutDateFunc(e.start_date)+" to "+c.getMonthDateYearWithoutDateFunc(e.end_date),n(t)}function n(e){$("#text-date-range").html(e)}function o(e){i(e),s()}function i(e){switch(e){case"driver-payment":g=u;break;case"sales-report":g=l;break;case"customer-service":g=p;break;case"deliveries":g=m}}function s(e){var t=new google.visualization.DataTable;t.addColumn("string",g.string),t.addColumn("number",g.number),t.addRows(d(e));var r="",a=0,n=0,o=d(e).length;o>=40?(r="100%",a=10,n=100,$("#graph-report").height(800)):o>=30?(r=700,a=12,n=100,$("#graph-report").height(700)):o>=20?(r=600,a=13,n=100,$("#graph-report").height(600)):o>=10?(r=500,a=14,n=75,$("#graph-report").height(500)):o<10&&o>=5?(r=400,a=15,n=40,$("#graph-report").height(400)):(r=400,a=15,n=10,$("#graph-report").height(400));var i,s={width:"100%",height:r,colors:["#ADB9C2"],vAxis:{textStyle:{fontSize:a}},hAxis:{textStyle:{fontSize:a+1}},bar:{groupWidth:n+"%"}},c={width:"100%",height:"100%",colors:["#ADB9C2"]};"HORIZONTAL"===g.chartType?($("#graph-report2").hide(),$("#graph-report").show(),i=new google.visualization.BarChart(document.getElementById("graph-report")),i.draw(t,s)):($("#graph-report2").show(),$("#graph-report").hide(),i=new google.visualization.ColumnChart(document.getElementById("graph-report2")),i.draw(t,c))}function d(e){if(void 0===e)return[];var t=[];return $.each(e,function(e,r){if(e.split("-").length>2){var a=c.getMonthDateYearWithoutDateFunc(e);t.push([a,r])}else parseFloat(r)>0&&t.push([e,r])}),t}var c=(e("./data.manager"),e("./dateTimeHelper")),u={},l={},m={},p={};u.string="Driver Name",p.string="Date",m.string="Date",l.string="Date",u.chartType="HORIZONTAL",p.chartType="VERTICAL",m.chartType="VERTICAL",l.chartType="VERTICAL",u.number="Driver Earnings",p.number="Avg. Customer Services",m.number="Number of deliveries",l.number="Total Sales";var g={};g=l,$(document).ready(function(){google.charts.load("current",{packages:["corechart"]}),google.setOnLoadCallback(),$(document).on("change",'[name="report-type"]',function(){console.log("report changing");o("driver-payment"),t()})}),r.whatToDraw=o}()},{"./data.manager":4,"./dateTimeHelper":5}],12:[function(e,t,r){"use strict";!function(){function e(){}function t(){}function a(){}function n(){$(e.bussinessTypeInput).change(function(){console.log("change business type"),a.businessTypeSelected()})}e.bussinessTypeInput="#settings [name='bussiness-type']";e.inputForOnlyDeliveryDiv="#settings #only-on-deliveryOnly",e.inputForOnDemadDiv="#settings #only-onDemand",e.businessName='#settings [name="business-name"]',e.contactPhone='#settings [name="contact-phone"]',e.pickupLocation='#settings [name="pickup-location"]',e.maxTimeLimit='#settings [name="max-time-limit"]',e.latitudeText='#settings [name="lat"]',e.longitudeText='#settings [name="lng"]',e.zoomLevelText='#settings [name="zoom-level"]',e.autoDispatchingInput='#settings [name="auto-dispatching"]',e.checkGeofenceInput='#settings [name="check-geofence"]',e.maxOrderResponseTime='#settings [name="order-respose-time"]',e.scheduleOrderLeadTimeInSeconds='#settings [name="scheduled-order-lead-time"]',e.fixedDriverFeePerDelivery='#settings [name="fixed-driver-fee-per-delivery"]',e.geofenceRadius='#settings [name="geofence-radius"]',e.containerOnlyForGeofence="#settings #only-onGeofence",e.timeZoneSelector="#time-zone-offset",t.DELIVERY_ONLY="Delivery only",t.PICKUP_N_DELIVERY="Pickup and Delivery",a.businessTypeSelected=function(){a.isOnlyDelivery()?$(e.inputForOnlyDeliveryDiv).show():$(e.inputForOnlyDeliveryDiv).hide()},a.isOnlyDelivery=function(){return $(e.bussinessTypeInput+'[value="'+t.DELIVERY_ONLY+'"]').prop("checked")},a.showSettings=function(){console.log("show settings function"),a.businessTypeSelected()},r.showSettings=a.showSettings,r.businessTypeChangeEvent=n}()},{}],13:[function(e,t,r){"use strict";!function(){function e(e,t){var r=document.createElement(e);return $.each(t,function(e,t){r.setAttribute(e,t)}),r}function t(t,r,a){var n={};return void 0!==a&&$.each(a,function(e,t){n[e]=t}),n.class=t,n.id=r,e("div",n)}function a(e){var t=e;return void 0===e?e:(t=e.replace(" ",""),t=t.trim(),10!==t.length?e:t=t.slice(0,3)+" "+t.slice(3,6)+" "+t.slice(6,10))}function n(e){return e<0?"N/A":"$"+(e=parseFloat(e).toFixed(2))}r.correctPhoneFormat=a,r.adaptOrderCostInput=n,r.createDiv=t}()},{}],14:[function(e,t,r){"use strict";!function(){function t(e){var t=[];return $.each(e,function(e,r){var a=D.adaptingEachOrderCommon(r);t.push(a)}),t}function a(){$("#dashboardDiv").putTemplate("#template-account-info","");var e=$("#dashboardDiv").offset();$("#menuDivDropdown").css("min-height",$(document).innerHeight()-e.top),$.get("currency.html",function(e){$("#currencyPush").append(e)}),$("#currerncyShown").attr("data-option",v),$("#hiddenCurrencyInputId").val(v)}function n(){$("#dashboardDiv").putTemplate("#template-settings-info",""),$("#settingsDiv").outerHeight($("#settingsDiv").height()+60+"px"),b.showSettings()}function o(){var e=h.getBillingInfo();$("#dashboardDiv").putTemplate("#template-billing-and-payment",e);var t=$("#dashboardDiv").offset();$("#menuDivDropdown2").css("min-height",screen.height-t.top),T.generateBillingTable()}function i(){console.log("order");$("#dashboardDiv").putTemplate("#template-order-info",""),$(".orderButtonsContainer a").removeClass("active"),$("#activeOrder").addClass("active"),$(".has-order-table").hide(),$(".active-order-wrapper").show(),y.generateActiveOrderTable(h.getActiveOrdersData())}function s(){console.log("scheduled"),$(".orderButtonsContainer a").removeClass("active"),$("#scheduledOrder").addClass("active"),$(".has-order-table").hide(),$(".incomplete-order-wrapper").show(),y.generateFutureOrderTable(h.getFutureOrdersData())}function d(){console.log("past order"),$(".orderButtonsContainer a").removeClass("active"),$("#pastOrder").addClass("active"),$(".has-order-table").hide(),$(".completed-order-wrapper").show(),$("#table-past-order").DataTable({paging:!1,ordering:!1,info:!1,searching:!1})}function c(){$("#dashboardDiv").putTemplate("#template-driver-info",""),$(".driverButtonsContainer a").removeClass("active"),$("#driver").addClass("active"),$(".addDriver").show(),$(".exportToExcelDriverPayment").hide(),$(".driver-info-table").hide(),$(".driver-list-wrapper").show(),D.generateDriverView(h.getDriverList())}function u(){$(".driver-info-table").hide(),$(".driver-payment-wrapper").show(),$(".driverButtonsContainer a").removeClass("active"),$("#driverPayment").addClass("active"),$(".addDriver").hide(),$(".exportToExcelDriverPayment").show(),D.generateDriverPaymentView(h.getDriverPaymentList())}function l(){$("#dashboardDiv").putTemplate("#template-dashboard","");var e=$("#dashboardDiv").offset();$("#assigndOrdersDiv").offset();$("#compressed-with-map").putTemplate("#template-map","");var r=t(h.getActiveOrdersData());$("#currentOrderContainer").putTemplate("#template-dashboard-orders",r);var a=D.adaptingDashboardDriverData(h.getDriverList());D.loadLeftColumn(a);var n=D.adaptingDashboardOrderData(h.getDriverList());$("#activeOrdersOfCarrierColoumn").putTemplate("#template-dashboard-orders",n);var o=$("body").height(),e=$("#dashboardDiv").offset();console.log("assignedOrder:"+e.top+" div1Height:"+o+" $('.dashboardButtonsContainer').height()"+$(".dashboardButtonsContainer").height()+" dashboard-div:"+$(".dashboard-div").height());var i=$(".dashboardButtonsContainer").height();$("#driverHeader").height(i),$(".dashboardButtonsContainer").height(i+8),$("#compressed-with-map").css("min-height",$(document).outerHeight()-e.top),$("#compressed-with-map").hide(),$(".left-wrapper").removeClass("margin-top-60"),$("#expand-without-map").removeClass("col-sm-6").addClass("col-sm-12")}function m(){console.log("showing map"),$("#dashboardDiv").putTemplate("#template-map","");$("#dashboardDiv").offset();w.initQTMap(40.73061,-73.935242),w.showActorsOnMap(h.getActorPointsData())}function p(){h.getBillingInfo();$("#dashboardDiv").putTemplate("#template-report","");$("#dashboardDiv").offset()}function g(e){switch(e){case"accountInfo":a();break;case"report":p();break;case"settingsInfo":n();break;case"billingInfo":o();break;case"dashboard":l();break;case"map":m();break;case"order":i();break;case"orderScheduled":s();break;case"orderPast":d();break;case"driver":c();break;case"driverPayment":u();break;default:console.log("Set attr: data-arg or href correctly.")}}function f(e){h=e}var h,v="USD",D=e("./driver.view.generator"),b=e("./settings.controller"),T=e("./billing.controller"),y=e("./order.controller"),w=e("./map.controller");e("./dateTimeHelper"),e("./report.controller");r.loadView=g,r.initialize=f}()},{"./billing.controller":2,"./dateTimeHelper":5,"./driver.view.generator":6,"./map.controller":8,"./order.controller":9,"./report.controller":11,"./settings.controller":12}]},{},[1]);